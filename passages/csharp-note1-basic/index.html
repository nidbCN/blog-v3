<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="目录 C#基础 C#面向对象 C#泛型 C#运算符和强制类型转换 C#中数组的使用 C#的委托、lambda 表达式和事件 C#字符串和正则表达式 CSharp 基础 《CSharp高级编程（第 11 版）》 笔记，系统入 .NET\n"><title>C#编程基础 - C#笔记</title>
<link rel=canonical href=https://blog.gaein.cn/passages/csharp-note1-basic/><link rel=stylesheet href=/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css><meta property='og:title' content="C#编程基础 - C#笔记"><meta property='og:description' content="目录 C#基础 C#面向对象 C#泛型 C#运算符和强制类型转换 C#中数组的使用 C#的委托、lambda 表达式和事件 C#字符串和正则表达式 CSharp 基础 《CSharp高级编程（第 11 版）》 笔记，系统入 .NET\n"><meta property='og:url' content='https://blog.gaein.cn/passages/csharp-note1-basic/'><meta property='og:site_name' content='Gaein nidb 的博客'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='笔记'><meta property='article:tag' content='编程'><meta property='article:tag' content='CSharp'><meta property='article:tag' content='dotNET'><meta property='article:published_time' content='2021-04-24T21:38:19+08:00'><meta property='article:modified_time' content='2021-04-24T21:38:19+08:00'><meta name=twitter:title content="C#编程基础 - C#笔记"><meta name=twitter:description content="目录 C#基础 C#面向对象 C#泛型 C#运算符和强制类型转换 C#中数组的使用 C#的委托、lambda 表达式和事件 C#字符串和正则表达式 CSharp 基础 《CSharp高级编程（第 11 版）》 笔记，系统入 .NET\n"><link rel="shortcut icon" href=https://img.cdn.gaein.cn/favicon.ico><head><meta itemprop=name content="C#编程基础 - C#笔记"><meta itemprop=image content="http://img.cdn.gaein.cn/website_used/avatars/avatar-256x.webp"><meta itemprop=description content="目录

C#基础
C#面向对象
C#泛型
C#运算符和强制类型转换
C#中数组的使用
C#的委托、lambda 表达式和事件
C#字符串和正则表达式

CSharp 基础

《CSharp高级编程（第 11 版）》 笔记，系统入 .NET"></head></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=切换菜单>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar-256x_hu_d97b16840c038ea4.webp width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>🥰</span></figure><div class=site-meta><h1 class=site-name><a href=/>Gaein nidb 的博客</a></h1><h2 class=site-description>记录生活</h2></div></header><ol class=menu-social><li><a href=https://github.com/nidbCN target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://twitter.com target=_blank title=Twitter rel=me><svg class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84.0 00.497-3.753C20.18 7.773 21.692 5.25 22 4.009z"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=https://gaein.cn><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>首页</span></a></li><li><a href=/><svg class="icon icon-tabler icon-tabler-library" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M7 3m0 2.667A2.667 2.667.0 019.667 3h8.666A2.667 2.667.0 0121 5.667v8.666A2.667 2.667.0 0118.333 17H9.667A2.667 2.667.0 017 14.333z"/><path d="M4.012 7.26A2.005 2.005.0 003 8.997v10c0 1.1.9 2 2 2h10c.75.0 1.158-.385 1.5-1"/><path d="M11 7h5"/><path d="M11 10h6"/><path d="M11 13h3"/></svg>
<span>博客</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>归档</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>搜索</span></a></li><li><a href=https://www.gaein.cn/friends><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>链接</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>暗色模式</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">目录</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#目录>目录</a></li><li><a href=#csharp-基础>CSharp 基础</a><ol><li><a href=#net-应用程序和技术>.NET 应用程序和技术</a><ol><li><a href=#net-framework>.NET Framework</a></li><li><a href=#net-core--net>.NET Core & .NET</a></li><li><a href=#csharp>CSharp</a></li><li><a href=#关于相关概念的理解>关于相关概念的理解</a></li><li><a href=#clr>CLR</a></li><li><a href=#开发工具>开发工具</a></li></ol></li><li><a href=#2---核心-csharp>2 - 核心 CSharp</a><ol><li><a href=#21---csharp基础>2.1 - CSharp基础</a></li><li><a href=#22---变量>2.2 - 变量</a></li><li><a href=#23---预定义数据类型>2.3 - 预定义数据类型</a></li><li><a href=#24-程序流控制>2.4 程序流控制</a></li><li><a href=#25---名称空间>2.5 - 名称空间</a></li><li><a href=#26-main-方法>2.6 Main() 方法</a></li><li><a href=#27---注释>2.7 - 注释</a></li><li><a href=#28---csharp预处理器指令>2.8 - CSharp预处理器指令</a></li><li><a href=#29---csharp编程准则>2.9 - CSharp编程准则</a></li></ol></li></ol></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/%E4%BB%A3%E7%A0%81%E5%A6%82%E8%AF%97/>代码如诗</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/passages/csharp-note1-basic/>C#编程基础 - C#笔记</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>2021 Apr 24</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>阅读时长: 13 分钟</time></div></footer></div></header><section class=article-content><h2 id=目录>目录</h2><ul><li><a class=link href=https://blog.gaein.cn/passages/CSharp-Note1-Basic/ target=_blank rel=noopener>C#基础</a></li><li><a class=link href=https://blog.gaein.cn/passages/CSharp-Note2-OOP/ target=_blank rel=noopener>C#面向对象</a></li><li><a class=link href=https://blog.gaein.cn/passages/CSharp-Note3-Generics-Type/ target=_blank rel=noopener>C#泛型</a></li><li><a class=link href=https://blog.gaein.cn/passages/CSharp-Note4-Operators-and-TypeCasts/ target=_blank rel=noopener>C#运算符和强制类型转换</a></li><li><a class=link href=https://blog.gaein.cn/passages/CSharp-Note5-Array/ target=_blank rel=noopener>C#中数组的使用</a></li><li><a class=link href=https://blog.gaein.cn/passages/CSharp-Note6-Delegates-lambda-Expressions-and-Events/ target=_blank rel=noopener>C#的委托、lambda 表达式和事件</a></li><li><a class=link href=https://blog.gaein.cn/passages/CSharp-Note7-String-and-Regular/ target=_blank rel=noopener>C#字符串和正则表达式</a></li></ul><h2 id=csharp-基础>CSharp 基础</h2><blockquote><p>《CSharp高级编程（第 11 版）》 笔记，系统入 .NET</p></blockquote><blockquote><p>由于这么多年来一直用 CSharp摸鱼，所以基础部分只写一些自己认为比较重要的。今天看了一天书，一百来页，结果刚才发现好像都忘了&mldr;所以来开个笔记。这一部分主要介绍了什么是 <code>.NET</code> ，技术之间的关系（显然，我的理解很不透彻）。然后所CSharp的基础内容，变量定义、程序流控制等。</p></blockquote><h3 id=net-应用程序和技术>.NET 应用程序和技术</h3><h4 id=net-framework>.NET Framework</h4><p>旧技术，只能运行于 Windows 操作系统。梦开始的地方。<code>.NET Framework 4.8</code> 后无更新计划，但会继续支持。</p><h4 id=net-core--net>.NET Core & .NET</h4><p><code>.NET Core</code> 是跨平台的、开源的高性能平台。近年来 <code>.NET Core</code> 很有起色。<code>.NET 5</code> “合并了” <code>.NET Core</code> 和 <code>.NET Framework</code>，未来的 <code>.NET</code> 会以 <code>.NET</code> 为名发布，比如今年年末计划发布的 LTS 版本：<code>.NET 6</code></p><blockquote><p>如果你开一个新项目的话，用 .NET Core/.NET 5 吧！如果不是维护旧代码或者有特殊需求，真的不建议用 .NET Framework 了。而且新平台上手难度也很低。</p></blockquote><h4 id=csharp>CSharp</h4><p>面向对象的类型安全的高性能语言。语法上算是 C-Style，与 C/C++、Java 很相似（但是更像 Java 一点），不过相比于 Java 来说语言特性方面有很多优点。</p><h4 id=关于相关概念的理解>关于相关概念的理解</h4><blockquote><p>注意：这部分是我自己的理解，不一定对。</p></blockquote><p><code>.NET</code> 大部分情况下可以指一个生态：它有着一个公共基础架构，包括语言（CSharp、F##、VisualBasic）以及编译器和运行库组建（比如 GC）。</p><p>在其上是 <code>.NET 标准库</code></p><p>要注意 <code>.NET Standard</code> 不是一个实现而是一个协定，本协定规定了需要实现什么 API。<code>.NET Framework</code>、<code>.NET Core</code> 和 <code>Mono</code> 平台实现了这个协定。但是他们各自实现了 <code>CLR</code> —— 公共语言运行时，但是 <code>.NET Framework</code> 实现的 <code>CLR</code> 就叫做 <code>CLR</code>，而<code>.NET Core</code> 所实现的 <code>CLR</code> 叫做 <code>CLR Core</code>。因此 <code>CLR</code> 是概念还是实现需要看具体语境。</p><h4 id=clr>CLR</h4><p><code>CLR</code> 的职责是：将构建时的中间码（IL）编译为本机码。同时还负责加载类型、垃圾回收以及线程处理。</p><h4 id=开发工具>开发工具</h4><p>个人心中觉得的易用程度：</p><ol><li>Visual Studio 2019 + JetBrains ReSharper 插件</li><li>Visual Studio Code + CSharp插件</li><li>JetBrains Rider</li><li>Visual Studio</li></ol><blockquote><p>注： Visual Studio for MAC 没用过，家贫。</p></blockquote><h3 id=2---核心-csharp>2 - 核心 CSharp</h3><h4 id=21---csharp基础>2.1 - CSharp基础</h4><h5 id=hello-world>Hello World</h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cs data-lang=cs><span class=line><span class=cl><span class=k>using</span> <span class=nn>System</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>namespace</span> <span class=nn>Example</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>class</span> <span class=nc>Program</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kd>static</span> <span class=k>void</span> <span class=n>Main</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>Console</span><span class=p>.</span><span class=n>WriteLine</span><span class=p>(</span><span class=s>&#34;Hello World&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=csharp9的脚本>CSharp9的“脚本”</h5><p><code>Main</code> 函数是程序的入口点，但是在 CSharp9 之后，可以忽略<code>Main</code>函数直接书写代码，就像“脚本”一样：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cs data-lang=cs><span class=line><span class=cl><span class=k>using</span> <span class=nn>System</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>Console</span><span class=p>.</span><span class=n>WriteLine</span><span class=p>(</span><span class=s>&#34;Please input your name&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kt>var</span> <span class=n>userName</span> <span class=p>=</span> <span class=n>Console</span><span class=p>.</span><span class=n>ReadLine</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=n>Console</span><span class=p>.</span><span class=n>WriteLine</span><span class=p>(</span><span class=s>$&#34;Hello, {userName}&#34;</span><span class=p>);</span>
</span></span></code></pre></td></tr></table></div></div><p>它将从第一行代码开始顺序执行。</p><h5 id=每一段代码都干了啥>每一段代码都干了啥</h5><p>下面来看看分析下 HelloWorld 的代码：</p><h6 id=csharp的语法>CSharp的语法</h6><p>CSharp的语法很符合 C/C++那一套：</p><ol><li>分号结束语句；</li><li>标识符区分大小写；</li><li>花括号包裹语段；</li><li>单行注释以 <code>//</code> 开头，多行注释包裹在 <code>/*</code> 与 <code>*/</code> 之间。</li></ol><p>包括很多像定义变量、赋值、函数声明与调用什么的也都很相似。</p><h6 id=名称空间>名称空间</h6><p>名称空间是把相关类组合在一起的方式。<code>namespace</code> 后跟名称空间，花括号内的类属于该名称空间。</p><p><code>using System;</code> 引用了名称空间 <code>System</code> 。声明语句允许引用这个类（<code>Console</code>），而不用去写 <code>System.Console.WriteLine();</code></p><p>可以使用 <code>using static</code> 不仅可以打开名称空间，也可以引用类的所有静态成员 <code>using static System.Console</code> 后可以直接使用 <code>WriteLine()</code> 方法。</p><h6 id=program类>Program类</h6><p>所有的CSharp代码都应该包含在类中（9那种“脚本”编程除外。）类的声明包含 <code>class</code> 关键字，后面跟类名和一对花括号。</p><p>事实上这个类叫啥名都行啊</p><h6 id=主函数>主函数</h6><p><code>C</code> 、 <code>C++</code> 、 <code>Java</code> 等很多编程语言都有这个概念，主函数（<code>Main</code> 方法）是程序的入口点，程序从这里开始执行。<code>Main()</code> 方法的返回值为 <code>void</code> 或者 <code>int</code>。</p><p>在CSharp中，方法的定义如下：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cs data-lang=cs><span class=line><span class=cl><span class=c1>// [modifiers修饰符] return_type返回类型 MethodName方法名([parameters参数])</span>
</span></span><span class=line><span class=cl>   <span class=kd>public</span>           <span class=kt>int</span>                <span class=n>ConvertToInt</span>            <span class=p>(</span><span class=kt>double</span> <span class=n>input</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p><code>WriteLine</code> 是一个静态方法，所以不需要先实例化一个 <code>Console</code> 对象。</p><h4 id=22---变量>2.2 - 变量</h4><p>使用以下语法声明变量</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cs data-lang=cs><span class=line><span class=cl><span class=c1>// datatype类型 identifier标识符;</span>
</span></span><span class=line><span class=cl>   <span class=kt>int</span>          <span class=n>number</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=221---初始化变量>2.2.1 - 初始化变量</h5><p>CSharp中，变量在使用之前必须要被初始化。使用未初始化的变量无法通过编译。如果变量是类或结构中的字段，则会自动初始化为0（是在内存中的0，而不是字面量0）。</p><p>在CSharp中实例化一个对象，需要使用 <code>new</code> 关键字：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>HttpClient client = new HttpClient();
</span></span></code></pre></td></tr></table></div></div><h5 id=222---类型推断>2.2.2 - 类型推断</h5><p>在CSharp中可以使用类型推断让编译器自动推断类型（使用 <code>var</code> 关键字）。在类型名非常长的时候很爽，事实上大部分变量我都在用类型推断让编译器去帮我推断：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cs data-lang=cs><span class=line><span class=cl><span class=kt>var</span> <span class=n>num</span> <span class=p>=</span> <span class=m>6</span><span class=p>;</span> <span class=c1>// num is int.</span>
</span></span><span class=line><span class=cl><span class=kt>var</span> <span class=n>option</span> <span class=p>=</span> <span class=k>new</span> <span class=n>JsonSerializerOptions</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>WriteIndented</span> <span class=p>=</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl><span class=c1>// option is JsonSerializerOptions.</span>
</span></span></code></pre></td></tr></table></div></div><p>需要遵循以下规则：</p><ol><li>变量必须被初始化，不然编译器就没有推断的依据（谁知道你 <code>var t</code> 想干啥啊）</li><li>初始化器不能为空（也没人知道你 <code>var t = null</code> 想干啥）</li><li>初始化器必须放在表达式中</li><li>不能把初始化器设置为一个对象，除非在初始化器中创建了一个新对象（不能把对象赋值过去<code>var obj = sb;</code>，但是你可以在等号右面整个新对象<code>var obj = new StringBuilder();</code>）</li></ol><h5 id=223---变量的作用域>2.2.3 - 变量的作用域</h5><p>变量是有作用域的，它遵循以下规则：</p><ol><li>只要类的局部变量在某个作用域内，其字段（也称为成员变量）也在该作用域内（对象的字段和对象的作用域一样）；</li><li>局部变量存在于声明该变量的块语句或方法结束的右括号之前的作用域内；</li><li>在 <code>for</code> 、 <code>while</code> 或类似语句中声明的局部变量存在于该循环体内。</li></ol><h6 id=局部变量的作用域冲突>局部变量的作用域冲突</h6><p>同名的局部变量不能在同一个作用域内声明两次。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cs data-lang=cs><span class=line><span class=cl><span class=kt>var</span> <span class=n>t</span> <span class=p>=</span> <span class=m>5</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>vat</span> <span class=n>t</span> <span class=p>=</span> <span class=s>&#34;str&#34;</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><p>这必报错好吧。</p><p>如果在不同的作用域内声明了两个同名变量，小作用域内会使用作用域小的变量（但是我觉得应该尽量避免这种情况）</p><h6 id=字段和局部变量的作用域冲突>字段和局部变量的作用域冲突</h6><p>在类级别（类中）定义的会被认为是字段，而方法内的看作局部变量。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cs data-lang=cs><span class=line><span class=cl><span class=k>using</span> <span class=nn>System</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>namespace</span> <span class=nn>Test</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>class</span> <span class=nc>Program</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kd>static</span> <span class=kt>int</span> <span class=n>i</span> <span class=p>=</span> <span class=m>10</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kd>static</span> <span class=k>void</span> <span class=n>Main</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=kt>int</span> <span class=n>i</span> <span class=p>=</span> <span class=m>30</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=n>Console</span><span class=p>.</span><span class=n>WriteLine</span><span class=p>(</span><span class=n>i</span><span class=p>);</span> <span class=c1>// Output: 30.</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>可以看到，在小作用域（方法中）使用了小作用域的变量（<code>Main</code> 里面定义的 <code>i</code>）而不是字段<code>i</code>。在这一部分CSharp隐藏了作用域更大的字段<code>i</code>。
想要使用类级别的变量可以使用 <code>Program.i</code> 这样的语法（<code>object.fieldName</code>）</p><h5 id=224---常量>2.2.4 - 常量</h5><p>使用 <code>const</code> 关键字定义常量：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cs data-lang=cs><span class=line><span class=cl><span class=kd>const</span> <span class=kt>int</span> <span class=n>size</span> <span class=p>=</span> <span class=m>1024</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><p>这个 <code>const</code> 和 C/C++ 中有区别，它的原理更像 <code>##define SIZE (1024)</code>。编译器在编译的时候将它替换为字面量。因此，在 <code>const</code> 关键字后面定义的常量要在被编译之前能确定它的值。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cs data-lang=cs><span class=line><span class=cl><span class=kd>const</span> <span class=kt>string</span> <span class=n>dir</span> <span class=p>=</span> <span class=n>Environment</span><span class=p>.</span><span class=n>CurrentDirectory</span><span class=p>;</span>    <span class=c1>// Error.</span>
</span></span></code></pre></td></tr></table></div></div><p>上面这语句中编译器在编译的时候不知道 <code>Environment.CurrentDirectory</code> 的值，因此没有办法编译为常量。</p><ol><li>常量必须在声明时初始化。指定了其值后，就不能再改写了。</li><li>常量的值必须能在编译时用于计算。因此，不能使用从变量中提取的值来初始化常量。</li><li>常量总是隐式静态的。不需要也不允许添加 <code>static</code> 关键字。</li></ol><h4 id=23---预定义数据类型>2.3 - 预定义数据类型</h4><h5 id=231---值类型和引用类型>2.3.1 - 值类型和引用类型</h5><p>CSharp把数据类型分为两种：</p><ul><li>值类型</li><li>引用类型</li></ul><p>从概念上，值类型存储的是变量的值，而引用类型存储的是变量的引用。</p><p>值类型存储在（堆）栈-Stack中，而引用类型存储在堆-Heap中。</p><p>在CSharp中，基本的数据类型大部分值类型，比如<code>int</code>、<code>double</code>、<code>bool</code>等，而大多数更复杂的类型（自己定义的类等）是引用类型。结构体是值类型。</p><p>CLR会定期删除不能使用的引用。</p><p>如果变量为引用类型则可以把它设置为 <code>null</code> ，表示它不引用任何对象。</p><blockquote><p>如果去访问一个指向 <code>null</code> 的变量的非静态成员函数或字段则会引发一个运行时异常。</p></blockquote><h5 id=232---net-类型>2.3.2 - .NET 类型</h5><p>数据类型的CSharp关键字从编译器映射到.NET数据类型。在语法上可以把基本类型看作支持某些方法的类。</p><h5 id=233---预定义的值类型>2.3.3 - 预定义的值类型</h5><h6 id=整型>整型</h6><p>有符号整型：</p><ul><li><code>sbyte</code> - 8位</li><li><code>short</code> - 16位</li><li><code>int</code> - 32位</li><li><code>long</code> - 64位</li></ul><p>无符号整型：</p><ul><li><code>byte</code> - 8位</li><li><code>ushort</code> - 16位</li><li><code>uint</code> - 32位</li><li><code>ulong</code> - 64位</li></ul><p>在CSharp中，所有的数据类型都以与平台无关的方式定义，以备迁移。
所有的整数类型都能被赋予十进制或者十六进制或者二进制，十六进制和二进制使用前缀：</p><ul><li><code>0x</code> - 十六进制</li><li><code>0b</code> - 二进制</li></ul><p>如果没有显示的声明则变量默认为 <code>int</code> 类型，可以使用后缀：</p><ul><li><code>U</code> - 无符号</li><li><code>L</code> - 长整型</li><li><code>UL</code> - 无符号长整型</li></ul><p>可以使用下划线作为数字分隔符，增强可阅读性，比如：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cs data-lang=cs><span class=line><span class=cl><span class=kt>uint</span> <span class=n>binary</span> <span class=p>=</span> <span class=m>0</span><span class=n>b1111_1011_1100_1011_1101_1100_0010</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><h6 id=浮点型>浮点型</h6><ul><li><code>float</code> - 32位</li><li><code>double</code> - 64位</li></ul><p>指定值为 <code>float</code> 需要使用后缀 <code>F</code>：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cs data-lang=cs><span class=line><span class=cl><span class=kt>float</span> <span class=n>width</span> <span class=p>=</span> <span class=m>23.8F</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><h6 id=decimal类型>decimal类型</h6><p>专门用于财务的类型。</p><p><code>decimal</code> - 128位</p><blockquote><p>不是基本类型，计算的时候会有性能损失。</p></blockquote><p>需要在数字后面加上 <code>M</code> 来指定。</p><h6 id=bool类型>bool类型</h6><p>它只有 <code>true</code> 和 <code>false</code></p><blockquote><p>注意：在CSharp中 <code>bool</code> 类型和整数值不能相互隐式转换。也就是说：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cs data-lang=cs><span class=line><span class=cl><span class=kt>int</span> <span class=n>flag</span> <span class=p>=</span> <span class=m>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>(</span><span class=n>flag</span><span class=p>)</span> 
</span></span><span class=line><span class=cl>  <span class=n>Console</span><span class=p>.</span><span class=n>WriteLine</span><span class=p>(</span><span class=s>&#34;Yes!&#34;</span><span class=p>);</span> <span class=c1>// wrong.</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>(</span><span class=n>flag</span> <span class=p>==</span> <span class=m>1</span><span class=p>)</span> 
</span></span><span class=line><span class=cl>  <span class=n>Console</span><span class=p>.</span><span class=n>WriteLine</span><span class=p>(</span><span class=s>&#34;Yes!&#34;</span><span class=p>)</span>  <span class=c1>// right.</span>
</span></span></code></pre></td></tr></table></div></div></blockquote><h6 id=字符类型>字符类型</h6><p><code>char</code> 仅用于存储字符。它可以使用单引号包裹的字面量赋值，也可以使用Unicode、强制转换的整数和十六进制数以及转义字符。</p><h5 id=234---预定义的引用类型>2.3.4 - 预定义的引用类型</h5><h6 id=object类型>object类型</h6><p>在CSharp中，<code>object</code> 类型就是最终的父类型，所有的内置类型和用于定义的类型都从它派生而来。</p><h6 id=string类型>string类型</h6><p>CSharp有 <code>string</code> 关键字，在遮罩下转换为 <code>System.String</code>。</p><p><code>string</code> 是一个引用类型，但是目前来说 <code>string</code> 类基本上已经实现其语义遵循一般的、直观的字符串规则。</p><blockquote><p>可以直接用 <code>==</code> 来比较字符串的值啦！</p></blockquote><p>CSharp字符串也可以包含Unicode和十六进制数转义序列。</p><p>前缀：</p><ul><li><code>@</code> 这个字符后所有的字符都看成原来的含义，不会被解释为转义，并且也可以包含换行符（可以写多行）。</li><li><code>$</code> 这个字符串中使用插值，可以使用 <code>{var}</code> 来在字符串中插入值，比如：<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cs data-lang=cs><span class=line><span class=cl><span class=kt>var</span> <span class=n>name</span> <span class=p>=</span> <span class=s>&#34;Jack&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kt>var</span> <span class=n>note</span> <span class=p>=</span> <span class=s>$&#34;Hello, {Jack}!&#34;</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div></li></ul><h4 id=24-程序流控制>2.4 程序流控制</h4><h5 id=241---条件语句>2.4.1 - 条件语句</h5><h6 id=if语句>if语句</h6><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cs data-lang=cs><span class=line><span class=cl><span class=k>if</span> <span class=p>(</span><span class=n>condition</span><span class=p>)</span> 
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// codes...</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// other codes...</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>为了安全和保持一致，建议只要使用if语句就加上花括号，如果真的只有一行并且不想加花括号可以这样写：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cs data-lang=cs><span class=line><span class=cl><span class=k>if</span> <span class=p>(</span><span class=n>isFault</span><span class=p>)</span> <span class=k>return</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><h6 id=switch-语句>switch 语句</h6><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cs data-lang=cs><span class=line><span class=cl><span class=k>switch</span> <span class=p>(</span><span class=n>t</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=m>1</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>Console</span><span class=p>.</span><span class=n>WriteLine</span><span class=p>(</span><span class=s>&#34;1&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=m>2</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>Console</span><span class=p>.</span><span class=n>WriteLine</span><span class=p>(</span><span class=s>&#34;2&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=m>3</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=m>4</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>Console</span><span class=p>.</span><span class=n>WriteLine</span><span class=p>(</span><span class=s>&#34;3 or 4&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>default</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>Console</span><span class=p>.</span><span class=n>WriteLine</span><span class=p>(</span><span class=s>&#34;UnKnow number&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><blockquote><p>注意：case的值必须是常量表达式，不允许使用变量。</p></blockquote><p>CSharp这个玩意它很安全，如果激活了一个 <code>case</code> 则其它的 <code>case</code> 就不会被激活，而且 <code>break</code> 是强制加入的。如果上一个 <code>case</code> 没有语句则可不写 <code>break</code> 来“滑滑梯”。</p><p>还有一个玩意叫 <code>switch表达式</code> ，这个东西书上没写，我搓了个 <code>switch</code> 来用代码提示转换成了表达式看看：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cs data-lang=cs><span class=line><span class=cl><span class=kt>var</span> <span class=n>code</span> <span class=p>=</span> <span class=m>200</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>var</span> <span class=n>result</span> <span class=p>=</span> <span class=n>code</span> <span class=k>switch</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=m>200</span> <span class=p>=&gt;</span> <span class=s>&#34;OK&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=m>400</span> <span class=p>=&gt;</span> <span class=s>&#34;BadRequest&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>_</span> <span class=p>=&gt;</span> <span class=s>&#34;UnKnow&#34;</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><p>这个东西呢适用于以下场景：不同的条件返回不同的值，但是类型是一样的。</p><h5 id=242---循环>2.4.2 - 循环</h5><blockquote><p>这些都跟C差不多咯</p></blockquote><h6 id=for-循环>for 循环</h6><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cs data-lang=cs><span class=line><span class=cl><span class=kt>var</span> <span class=n>sum</span> <span class=p>=</span> <span class=m>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=p>(</span><span class=kt>var</span> <span class=n>i</span> <span class=p>=</span> <span class=m>0</span><span class=p>;</span> <span class=n>i</span> <span class=p>&lt;</span> <span class=m>100</span><span class=p>;</span> <span class=p>++</span><span class=n>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>sum</span> <span class=p>+=</span> <span class=n>i</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h6 id=while-循环>while 循环</h6><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cs data-lang=cs><span class=line><span class=cl><span class=kt>var</span> <span class=n>input</span> <span class=p>=</span> <span class=n>Console</span><span class=p>.</span><span class=n>ReadLine</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=k>while</span><span class=p>(</span><span class=kt>string</span><span class=p>.</span><span class=n>IsNullOrWhiteSpace</span><span class=p>(</span><span class=n>input</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Console</span><span class=p>.</span><span class=n>WriteLine</span><span class=p>(</span><span class=s>&#34;Invalid input, please retry.&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>input</span> <span class=p>=</span> <span class=n>Console</span><span class=p>.</span><span class=n>ReadLine</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>当输入的 <code>input</code> 为空的时候会进入循环一直要求输入。</p><h6 id=do-while-循环>do-while 循环</h6><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cs data-lang=cs><span class=line><span class=cl><span class=kt>var</span> <span class=n>input</span> <span class=p>=</span> <span class=kt>string</span><span class=p>.</span><span class=n>Empty</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>do</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Console</span><span class=p>.</span><span class=n>WriteLine</span><span class=p>(</span><span class=s>&#34;Please input.&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>input</span> <span class=p>=</span> <span class=n>Console</span><span class=p>.</span><span class=n>ReadLine</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=k>while</span><span class=p>(</span><span class=kt>string</span><span class=p>.</span><span class=n>IsNullOrWhiteSpace</span><span class=p>(</span><span class=n>input</span><span class=p>));</span>
</span></span></code></pre></td></tr></table></div></div><h6 id=foreach-循环>foreach 循环</h6><p><code>foreach</code> 循环可以迭代集合中的每一项，但是它不能改变集合中的各项。</p><h5 id=243---跳转语句>2.4.3 - 跳转语句</h5><h6 id=goto-语句>goto 语句</h6><p>标签：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cs data-lang=cs><span class=line><span class=cl><span class=n>Label</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>Console</span><span class=p>.</span><span class=n>WriteLine</span><span class=p>(</span><span class=s>&#34;L1&#34;</span><span class=p>);</span>
</span></span></code></pre></td></tr></table></div></div><p>跳转：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cs data-lang=cs><span class=line><span class=cl><span class=k>goto</span> <span class=n>Label</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><blockquote><p>大多数情况下不允许使用goto语句。一般情况下，使用它肯定不是面向对象编程的好方式。</p></blockquote><h6 id=break-语句>break 语句</h6><p>用于退出 <code>case</code> 和退出循环，如果放在嵌套的循环中则退出内部循环。、</p><h6 id=continue-语句>continue 语句</h6><p>只退出当前迭代，立即开始下一轮循环。</p><h6 id=return-语句>return 语句</h6><p>退出当前方法并把控制权返回给调用者。如果方法的类型不是 <code>void</code> 则必须return相应的类型。</p><h4 id=25---名称空间>2.5 - 名称空间</h4><p>名称空间是一种逻辑组合，而不是物理组合（事实上要尽量和文件结构对应好一些吧）</p><p>名称空间之间用句点隔开。名称空间与程序集无关。</p><p>一般来说 <code>CompanyName.ProjectName.SystemSection</code> 是可以接受的命名方式，也是微软所推荐的。</p><h5 id=251---using-语句>2.5.1 - using 语句</h5><p>输名称空间太长了，所以用using来把它引入，然后就能直接写了，上面说过。</p><p>很多CSharp代码都有 <code>using System</code> ，因为微软公司提供的许多有用的都在这个名称空间下。</p><p>如果在不同的名称空间下两个类名一样则需要写前面的名称空间。应该尽量避免这种情况的发生。</p><h5 id=252---名称空间的别名>2.5.2 - 名称空间的别名</h5><p><code>using</code> 关键字的另一个用途是给类和名称空间指定别名。如果名称空间很长但是还需要避免类名冲突的话可以使用别名，这样写起来爽一些。</p><blockquote><p>注意：名称空间的别名的修饰符 <code>::</code></p></blockquote><h4 id=26-main-方法>2.6 Main() 方法</h4><p>要求一般为：</p><ul><li>使用了 <code>static</code> 修饰符</li><li>在任意名称的类中</li><li>返回 <code>int</code> 或 <code>void</code> 类型</li></ul><p>（当然，前面说过了，CSharp9所允许的那样脚本化的操作并不需要满足）</p><p>在调用的时候可以让CLR包含参数，将命令行参数传递给程序：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cs data-lang=cs><span class=line><span class=cl><span class=k>void</span> <span class=n>Main</span><span class=p>(</span><span class=kt>string</span><span class=p>[]</span> <span class=n>args</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>与C不同的是，<code>args[0]</code> 并不是程序的路径，它就是传递的第一个参数。</p><h4 id=27---注释>2.7 - 注释</h4><p>注释是个好东西哦</p><h5 id=271---源文件中的内部注释>2.7.1 - 源文件中的内部注释</h5><p>CSharp使用传统的C风格的注释：</p><ul><li>单行注释使用 <code>//</code></li><li>多行注释使用 <code>/*</code> 和 <code>*/</code></li></ul><p>不过，在写多行的时候也可以使用多个单行注释，因为使用IDE的快捷键来这么干非常方便。</p><h5 id=272---xml文档>2.7.2 - XML文档</h5><p><code>///</code> 用于生成XML风格的注释，常见的XML标签有：</p><ul><li><code>&lt;summary></code> - 提供类型或成员的简短小结</li><li><code>&lt;returns></code> - 说明方法的返回值</li><li><code>&lt;param></code> - 标记方法的参数（编译器要验证其语法）</li></ul><h4 id=28---csharp预处理器指令>2.8 - CSharp预处理器指令</h4><h5 id=281---define-和-undef>2.8.1 - #define 和 #undef</h5><p><code>#define</code> 本身没啥用（它不能和C/C++那样玩），和 <code>#if</code> 配合才有大用。</p><h5 id=282---ifelifelse-和-endif>2.8.2 - #if、#elif、#else 和 #endif</h5><p><code>#if</code> 如果条件符合那就编译中间的代码，比如：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cs data-lang=cs><span class=line><span class=cl><span class=cp>#define</span> <span class=n>DEBUG</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cp>#if</span> <span class=n>DEBUG</span>
</span></span><span class=line><span class=cl>   <span class=n>Console</span><span class=p>.</span><span class=n>WriteLine</span><span class=p>(</span><span class=s>&#34;DEBUG MODE ENABLED!&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=cp>#elif</span>
</span></span><span class=line><span class=cl>    <span class=n>Console</span><span class=p>.</span><span class=n>WriteLine</span><span class=p>(</span><span class=s>&#34;NORMAL MODE.&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=cp>#endif</span>
</span></span></code></pre></td></tr></table></div></div><p>它还支持一组逻辑运算符：<code>!</code>、<code>==</code>、<code>!=</code> 和 <code>||</code></p><h5 id=283---warning-和-error>2.8.3 - #warning 和 #error</h5><p>编译器遇到它们的时候分别产生警告和错误，它后面的文本是给用户显示的信息。</p><h5 id=284---region-和-endregion>2.8.4 - #region 和 #endregion</h5><p>用于把一段代码视为有给定名称的一块，一些编辑器会识别并使这些代码在屏幕上更好的布局。</p><h5 id=285---line>2.8.5 - #line</h5><p>改变在编译器警告和错误中的行号。</p><h5 id=286---pragma>2.8.6 - #pragma</h5><p>关闭或者开启对某行代码的警告。比如：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cs data-lang=cs><span class=line><span class=cl><span class=cp>#pragma</span> <span class=n>warning</span> <span class=n>disable</span> <span class=m>169</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>MyClass</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>neverUsedField</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=cp>#pragma</span> <span class=n>warning</span> <span class=n>restore</span> <span class=m>169</span>
</span></span></code></pre></td></tr></table></div></div><p>上述代码可以关闭“字段未使用”的警告。</p><h4 id=29---csharp编程准则>2.9 - CSharp编程准则</h4><p>关于规范方面，ldqk有一篇博客，写的很全面</p><p><a class=link href=https://ldqk.org/1755 target=_blank rel=noopener>全面的CSharp编码规范整理</a></p><h5 id=291---关于标识符的规则>2.9.1 - 关于标识符的规则</h5><p>标识符是给变量、用户定义的类型和这些类型的成员的名称，准则有：</p><ul><li>尽管可以包含数字字符，但它们必须以字母或者下划线开头；</li><li>不能把CSharp关键字用作标识符。</li></ul><h5 id=292---用法约定>2.9.2 - 用法约定</h5><p>CSharp的约定是命名变量时不使用任何前缀（不用 <code>char *pszResult</code> 这样的）：<code>string Result</code></p><p>微软规定了许多CSharp的用法准则，虽然不是强制要求，但是尽量遵守这些准则，除非有明确的理由。</p><h6 id=命名约定>命名约定</h6><ol><li><p>名称的大小写</p><p>名称空间和类，以及基类中的成员等名称应该遵循 Pascal 大小写规则。</p><p>Pascal 大小写规则就是每个单词首字母大写，比如：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cs data-lang=cs><span class=line><span class=cl><span class=kd>public</span> <span class=k>class</span> <span class=nc>ClassMember</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// ...</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=k>class</span> <span class=nc>ListService</span> 
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// ...</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>应该使用 Pascal 大小写规则的有：</p><p>名称空间、类名、方法名、属性或者私有字段（最近Microsoft那边在使用下划线开头命名私有字段，那样更容易区分一些）。</p><p>另外一种大小写方式是 camel 大小写形式，它就是第一个单词全部小写，其余单词首字母大写，比如：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cs data-lang=cs><span class=line><span class=cl><span class=kt>uint</span> <span class=n>itemIndex</span> <span class=p>=</span> <span class=m>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kt>string</span> <span class=n>dataFileFullPath</span> <span class=p>=</span> <span class=s>@&#34;C:\...&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>通常来说本地变量使用这种大小写规则。</p></li><li><p>名称的风格</p><p>保持一致</p><p>比如某个方法为 <code>ShowConfirmationDialog()</code> ，则另一个方法不应该叫做 <code>ShowDialogWarning()</code> 或者 <code>WarningDialogShow()</code> 而是应该命名为 <code>ShowWarningDialog()</code>。</p></li><li><p>名称空间的名称</p><p>尽量避免与其它重名，推荐的格式上文说过，是：<code>&lt;CompanyName>.&lt;TechnologyName></code>，例如：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cs data-lang=cs><span class=line><span class=cl><span class=k>namespace</span> <span class=nn>Microsoft.Text</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>名称和关键字</p><p>名称不应该与任何关键字冲突</p></li></ol><h6 id=属性和方法的使用>属性和方法的使用</h6><p>如果这个看起来感觉是变量，就应该用属性来表示，而不是方法。总结来说：</p><ul><li>不要将只写的设置为属性，比如应该使用 <code>SetPassword()</code> 方法而不是只写的 <code>Password</code> 属性；</li><li>读取该值不应该花费太多时间；</li><li>读写该值不应该有其它明显的效果，它的作用应该仅与这个属性相关；</li><li>可以按照任意的顺序去设置属性，不应该因为属性没有设置完而抛出异常；</li><li>如果属性可能有意想不到的改变，就应该写成方法。</li></ul><p>如果不能满足所有的条件，那么就写成方法吧。</p><h6 id=字段的使用>字段的使用</h6><p>字段的用法非常简单。字段应该总是私有的，但是某些情况下可以设置为公有。</p></section><footer class=article-footer><section class=article-tags><a href=/tags/%E7%AC%94%E8%AE%B0/>笔记</a>
<a href=/tags/%E7%BC%96%E7%A8%8B/>编程</a>
<a href=/tags/csharp/>CSharp</a>
<a href=/tags/dotnet/>DotNET</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>相关文章</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/passages/csharp-note6-delegates-lambda-expressions-and-events/><div class=article-details><h2 class=article-title>C#的委托、lambda 表达式和事件 - C#笔记</h2></div></a></article><article><a href=/passages/csharp-note5-array/><div class=article-details><h2 class=article-title>C#中数组的使用 - C#笔记</h2></div></a></article><article><a href=/passages/csharp-note7-string-and-regular/><div class=article-details><h2 class=article-title>C#字符串和正则表达式 - C#笔记</h2></div></a></article><article><a href=/passages/csharp-note3-generics-type/><div class=article-details><h2 class=article-title>C#中的泛型 - C#笔记</h2></div></a></article><article><a href=/passages/csharp-note2-oop/><div class=article-details><h2 class=article-title>C#面向对象——对象和类型与继承 - C#笔记</h2></div></a></article></div></div></aside><script src=//cdn.jsdelivr.net/npm/twikoo@1.6.39/dist/twikoo.all.min.js></script><div id=tcomment></div><style>.twikoo{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding)}:root[data-scheme=dark]{--twikoo-body-text-color-main:rgba(255, 255, 255, 0.9);--twikoo-body-text-color:rgba(255, 255, 255, 0.7)}.twikoo .el-input-group__prepend,.twikoo .tk-action-icon,.twikoo .tk-submit-action-icon,.twikoo .tk-time,.twikoo .tk-comments-no,.twikoo .tk-comments-count{color:var(--twikoo-body-text-color)}.twikoo .el-input__inner,.twikoo .el-textarea__inner,.twikoo .tk-preview-container,.twikoo .tk-content,.twikoo .tk-nick,.twikoo .tk-send{color:var(--twikoo-body-text-color-main)}.twikoo .el-button{color:var(--twikoo-body-text-color)!important}.twikoo .el-input__count{color:var(--twikoo-body-text-color)!important}.OwO .OwO-body{background-color:var(--body-background)!important;color:var(--body-text-color)!important}</style><script>twikoo.init({envId:"https://api.gaein.cn/comments/",el:"#tcomment",lang:"zh-CN"})</script><footer class=site-footer><section class=copyright>&copy;
2017 -
2025 Gaein nidb 的博客</section><section class=powerby>冀ICP备17015375-1号<br>使用 <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> 构建<br>主题 <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.29.0>Stack</a></b> 由 <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> 设计</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>