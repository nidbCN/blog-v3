<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>软件教程 on Gaein nidb 的博客</title><link>https://blog.gaein.cn/tags/%E8%BD%AF%E4%BB%B6%E6%95%99%E7%A8%8B/</link><description>Recent content in 软件教程 on Gaein nidb 的博客</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Tue, 11 Jul 2023 19:05:15 +0800</lastBuildDate><atom:link href="https://blog.gaein.cn/tags/%E8%BD%AF%E4%BB%B6%E6%95%99%E7%A8%8B/index.xml" rel="self" type="application/rss+xml"/><item><title>直播推流常见协议及网页端实现 RTMP/STR/FLV/HLS/WebRTC</title><link>https://blog.gaein.cn/passages/live-streaming-protocols/</link><pubDate>Tue, 11 Jul 2023 19:05:15 +0800</pubDate><guid>https://blog.gaein.cn/passages/live-streaming-protocols/</guid><description>&lt;img src="https://img.cdn.gaein.cn/website_used/blog/Live-streaming-protocols/cover.webp" alt="Featured image of post 直播推流常见协议及网页端实现 RTMP/STR/FLV/HLS/WebRTC" />&lt;h2 id="前言">前言
&lt;/h2>&lt;p>最近一个月在叔叔那直播动画，但是被封了。寻思自己随便找个服务器播着玩，搭了个开源的又对延迟什么的不满意，于是走上了折腾这一车直播协议的&lt;del>不归路。&lt;/del>&lt;/p>
&lt;h2 id="前置编码编码器格式与容器">前置：编码、编码器、格式与容器？
&lt;/h2>&lt;blockquote>
&lt;p>心里不是特别有底，可能有部分地方有疏漏或错误之处，还请谅解。&lt;/p>&lt;/blockquote>
&lt;h3 id="编码encode解码decode">编码(encode)/解码(decode)
&lt;/h3>&lt;p>我们说到多媒体时候，经常说什么 &lt;code>mp4&lt;/code> 辣，&lt;code>avi&lt;/code> 辣，同时又经常听到什么 &lt;code>H.265&lt;/code>、&lt;code>H.264&lt;/code> 这种“奇怪”的词。&lt;/p>
&lt;p>编码代表了如何去将视频变成二进制，解码代表了将编码出来的二进制在变成视频。&lt;/p>
&lt;p>为什么要编码呢？以一个 YUV 4:2:2 像素格式的 1080p 60FPS 视频为例，每秒的大小为 &lt;code>1920*1080*2*60=237Mb&lt;/code> ，一个俩小时的电影就是小俩TB&amp;hellip; 这显然是不可接受的。编码在方便视频存储的同时根据相邻的帧相似的地方等进行压缩。&lt;/p>
&lt;p>&lt;del>什么？你说怎么实现？他很厉害，他不是一个有形的。所以你读《心经》，《心经》里面讲什么&amp;hellip;&lt;/del>&lt;/p>
&lt;h3 id="编encoder解decoder码器codec">编(encoder)解(decoder)码器(codec)
&lt;/h3>&lt;p>此前说的编码是一种规范或者说算法，比如说 &lt;code>H.264&lt;/code> 编码，要先这样再那样再那样，诶就好了。&lt;/p>
&lt;p>编解码器(codec)就是具体干这个的。&lt;/p>
&lt;p>比如 &lt;code>H.264&lt;/code> 编码常见的编解码器有 &lt;code>libx264&lt;/code>、&lt;code>nvenc&lt;/code> 等等。&lt;/p>
&lt;p>如果你使用 &lt;code>ffmpeg&lt;/code> 的话，不妨输入 &lt;code>ffmpeg -codecs&lt;/code> 来看看 &lt;code>ffmpeg&lt;/code> 支持的那些编解码和器。&lt;/p>
&lt;h3 id="格式format">格式(format)
&lt;/h3>&lt;p>现在编码器已经可以根据编码把视频变成一大堆二进制了，如何存储他们？&lt;/p>
&lt;p>显然，直接将这一坨二进制写入磁盘不太合理，这样的话谁知道他用的什么编码，该如何解码？另外一个多媒体文件还可能会有音频，怎么区分开这一坨二进制里面的视频和音频？字幕怎么办？分章节的怎么办？&lt;/p>
&lt;p>显然，问题太多了，所以才有了格式，以比较简单的 avi 为例：&lt;/p>
&lt;p>avi 嘛，全称是音频视频交错格式，这玩意就是一截音频，一截视频，一截音频，一截视频&amp;hellip;&lt;/p>
&lt;p>而 flv 是一个 header（标识有下面的内容有多少个字节之类），然后是一个tag，一个二进制，一个tag，一个二进制&amp;hellip;这种能够读一点、放一点的格式就很利好直播（毕竟有些格式二进制堆在一起，你放个电影得全下完才能播）&lt;/p>
&lt;blockquote>
&lt;p>注意，以上举例经过简化，实际格式比起文章内缩写复杂。这样写方便大家理解，如果需要了解这些格式的细节请自行查阅资料。&lt;/p>&lt;/blockquote>
&lt;h3 id="容器container">容器(container)
&lt;/h3>&lt;p>很多时候“容器”与“格式”用的一个名字，比如 &lt;code>flv&lt;/code>、&lt;code>mp4&lt;/code> 等，容器便是你能看到的文件。容器可能会支持多种格式，比如著名的 &lt;code>Matroska&lt;/code> ，支持几乎所有常见的格式。容器内除了多媒体内容外，还有一些 metadata（章节信息、标题等）。&lt;/p>
&lt;h2 id="都有那些直播用协议">都有那些直播用协议？
&lt;/h2>&lt;h3 id="经典推拉流协议rtmprtsp">经典推拉流协议：RTMP/RTSP
&lt;/h3>&lt;p>对于如何做直播流这件事，最简单也是最好办的方法就是——&lt;/p>
&lt;h4 id="rtmp">RTMP
&lt;/h4>&lt;p>RTMP 全名为 &lt;code>Real Time Messaging Protocol&lt;/code>，开发后被 Adobe 收购。&lt;/p>
&lt;p>目前在各种领域应用广泛，几乎所有的直播平台都支持 RTMP 协议推流。&lt;/p>
&lt;p>RTMP 采用 TCP 连接，优点是稳定、延迟低。&lt;/p>
&lt;p>RTMP 采用经典广泛的 H.264 和 AAC，格式为 flv。&lt;/p>
&lt;p>缺点也很简单：现代浏览器不能使用 RTMP 拉流。也就是说浏览器不能直接播放 RTMP 直播流。&lt;/p>
&lt;p>目前通常只使用 RTMP 推流，各种直播客户端&amp;amp;APP可以使用 RTMP 拉流播放。&lt;/p>
&lt;h4 id="rtsp">RTSP
&lt;/h4>&lt;p>RTSP 虽然名字和 RTMP 很像，但并不是一家的。RTSP 的特点是：使用 TCP 发送控制请求、使用 UDP 传输媒体数据。其使用 RTP 协议分视频块传输。&lt;/p>
&lt;p>有点是嘎嘎低延迟，但是在 Android 和 iOS 上似乎没有开箱即用的库。&lt;/p>
&lt;p>广泛应用于监控领域。&lt;/p>
&lt;h3 id="基于http的拉流协议http-flvhlsmpeg-dash">基于HTTP的拉流协议：HTTP-Flv/HLS/MPEG-DASH
&lt;/h3>&lt;p>由于现代浏览器并没有直接办法发起 TCP 请求等（以前 RTMP 使用类似于 Java 浏览器插件等方式工作，但是由于安全原因现代浏览器并不支持这么干），所以需要将 RTMP 直播流进行简单的处理，将其变成浏览器能拿到的。&lt;/p>
&lt;h4 id="http-flv">HTTP-Flv
&lt;/h4>&lt;p>前文介绍过 Flv，它文件体内除了头，存储媒体信息的是一小段、一小段的，也就是说你不需要下载整个文件，就可以解码出其中的、你已经获取到的音视频。这种特性使得 flv 非常适合做直播。&lt;/p>
&lt;p>并且，由于以前 flash 插件的高流行度，使得使用 HTTP 获取 flv 文件边获取边播放的方式更加流行了。&lt;/p>
&lt;p>HTTP-Flv 相比较与其它方法来说延迟不高，但是缺点是——&lt;strong>现代浏览器不支持 flash player 辣！&lt;/strong>&lt;/p>
&lt;p>噔噔咚，然后你就不能放 &lt;code>flv&lt;/code> 了。HTML5 原生支持的只有 &lt;code>webm&lt;/code> 和 &lt;code>mp4&lt;/code> 等。&lt;/p>
&lt;p>解决办法总是有的嘛，还记得在 flash player 停止支持前 bilibili 的 &lt;code>HTML5 播放器&lt;/code> 吗？没错，叔叔给他开源出来了，而且协议是 Apache-2.0。&lt;/p>
&lt;h5 id="叔叔怎么解-flv-的">叔叔怎么解 flv 的？
&lt;/h5>&lt;p>既然浏览器不支持 flv，那么叔叔怎么做的 &lt;code>flv.js&lt;/code> 呢？难道是摁写 &lt;code>js&lt;/code> 或者用 &lt;code>wasm&lt;/code> 解析 flv 然后解码然后在浏览器上画？&lt;/p>
&lt;p>当然不是。有一个神奇的东西叫做 &lt;code>MSE&lt;/code> ，&lt;code>video&lt;/code> 标签不是只支持 &lt;code>mp4&lt;/code> 吗？那我把 &lt;code>flv&lt;/code> 变成小 &lt;code>mp4&lt;/code> 总行了吧！Media Source Extension 支持在代码中构建 &lt;code>MediaSource&lt;/code> 对象并将其作为 &lt;code>src&lt;/code> 传递给 &lt;code>video&lt;/code> 标签。&lt;/p>
&lt;p>简而言之，你只需要把东西变成 &lt;code>mp4&lt;/code> 格式，不需要自己解码，然后交给浏览器就好了！&lt;/p>
&lt;p>当然，对于 &lt;code>h.265/HEVC&lt;/code> 这种浏览器不支持的，叔叔那真就拿 &lt;code>wasm&lt;/code> 开了一堆线程搁用户浏览器上软解，前阵子骂的沸沸扬扬的。&lt;/p>
&lt;p>flv.js 项目对于该实现的原文：&lt;/p>
&lt;blockquote>
&lt;p>flv.js works by transmuxing FLV file stream into ISO BMFF (Fragmented MP4) segments, followed by feeding mp4 segments into an HTML5 &lt;video> element through Media Source Extensions API.&lt;/p>&lt;/blockquote>
&lt;p>于是，有了叔叔的帮助，我们就可以在浏览器播放 flv 了，当然也可以看直播了。&lt;/p>
&lt;p>另外，注意 flv.js 项目首页上写道的：&lt;/p>
&lt;blockquote>
&lt;p>For FLV live stream playback, please consider mpegts.js which is under active development.&lt;/p>
&lt;p>This project will become rarely maintained.&lt;/p>&lt;/blockquote>
&lt;p>推荐我们使用 &lt;code>mpegts.js&lt;/code> 来播放直播流，该项目开发者也是 &lt;code>flv.js&lt;/code> 开发者之一，其对直播进行了优化。&lt;/p>
&lt;h4 id="hls">HLS
&lt;/h4>&lt;p>HLS 全程是 &lt;code>HTTP Live Stream&lt;/code> ，是水果公司整的。&lt;/p>
&lt;p>其具体工作原理是先获取一个列表文件，然后挨个请求里面的 &lt;code>ts&lt;/code> 文件挨个播放。&lt;/p>
&lt;p>目前来说 HLS 支持在 IOS、Safari 及安卓上最新版本的浏览器/Chrome 浏览器。通过 js 也可以在其它现代浏览器上播放。&lt;/p>
&lt;p>目前可以播放 HLS 的 JS 播放器有：&lt;/p>
&lt;ol>
&lt;li>&lt;a class="link" href="https://github.com/video-dev/hls.js" target="_blank" rel="noopener"
>hls.js&lt;/a>&lt;/li>
&lt;/ol>
&lt;h4 id="mpeg-dash">MPEG-DASH
&lt;/h4>&lt;p>DASH 的意思是 “基于 HTTP 的动态自适应流”，DASH 技术很新，设计的很棒，其原理也是 XHR 请求视频数据块，再添加入 &lt;code>video&lt;/code> 标签。&lt;/p>
&lt;p>不过据 SRS Github issue 说，DASH 的设计很棒有点“想得很美”的意思，似乎协议写的不是特别清除，实现的有些迷糊。&lt;/p>
&lt;p>目前可以播放 MPEG-DASH 的播放器有：&lt;/p>
&lt;ol>
&lt;li>&lt;a class="link" href="https://github.com/Dash-Industry-Forum/dash.js" target="_blank" rel="noopener"
>dash.js&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/shaka-project/shaka-player" target="_blank" rel="noopener"
>shaka-player&lt;/a>&lt;/li>
&lt;/ol>
&lt;h3 id="新技术webrtc与srt">新技术：WebRTC与SRT
&lt;/h3>&lt;p>除了以上几种经典方案外，近年来出现了 WebRTC 和 SRT 协议。&lt;/p>
&lt;h4 id="webrtc">WebRTC
&lt;/h4>&lt;p>WebRTC 是一项实时通讯技术，建立点对点连接并实现任意数据传输。适用于浏览器的摄像头直播会议等场景。&lt;/p>
&lt;p>WebRTC 算是一种较新的技术。目前看来其前景广阔。但是经过测试不知道是 SRS 问题抑或是 WebRTC 问题，推流直播效果不够好。&lt;/p>
&lt;h4 id="srt">SRT
&lt;/h4>&lt;p>SRT 为了解决 RTMP 的问题（旧、延迟高等），开发出了基于UDT（UDP的传输协议）的新协议。&lt;/p>
&lt;p>特点是快速连接以及按照时间发送音视频数据等。&lt;/p>
&lt;p>小缺点是 URL 不太容易看懂，另外就是其拥塞控制有些简单。&lt;/p>
&lt;h2 id="使用-srs-接收-rtmpsrt-推流">使用 SRS 接收 RTMP/SRT 推流
&lt;/h2>&lt;h3 id="推流工具">推流工具
&lt;/h3>&lt;p>在b站直播，我们可以使用b站直播只因等工具。当然，大家也注意到了，有很多up主或者其它平台在使用 OBS Studio 这款软件。&lt;/p>
&lt;h4 id="obs-studio">OBS Studio
&lt;/h4>&lt;p>&lt;a class="link" href="https://obsproject.com/" target="_blank" rel="noopener"
>Open Broadcaster Software | OBS&lt;/a>&lt;/p>
&lt;p>OBS Studio 更合适一般在电脑上的直播（比如各种游戏直播），可以实时看到反馈，使用方便。&lt;/p>
&lt;h4 id="ffmpeg">ffmpeg
&lt;/h4>&lt;p>在无GUI环境下，更适合用 ffmpeg 进行推流。&lt;/p>
&lt;p>ffmpeg 适合无人值守直播（比如7x24的动画片之类），易于编程和调用，性能要求低。&lt;/p>
&lt;h2 id="浏览器端实现拉流播放-http-flvhlsdash">浏览器端实现拉流播放 HTTP-FLV/HLS/DASH
&lt;/h2>&lt;h3 id="dplayer">DPlayer
&lt;/h3>&lt;p>Dplayer 是 DIYGOD 开发的播放器。支持多种媒体，且可以通过自定义 type 来支持其它 MSE 播放器来实现各种协议的视频播放。为了风格统一，使用了该播放器来做直播播放。&lt;/p>
&lt;h3 id="编码实现">编码实现
&lt;/h3>&lt;p>首先先在 vue 上初始化 Dplayer 播放器：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">ref&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;playerContainer&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span> &lt;span class="na">lang&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;ts&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="nx">computed&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">onMounted&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">onUpdated&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s2">&amp;#34;vue&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">createVideo&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s2">&amp;#34;@/utils/videoEngine&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">DPlayer&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="nx">DPlayerDanmaku&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s2">&amp;#34;dplayer&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="nx">options&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s2">&amp;#34;@/utils/request&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">props&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">defineProps&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">streamName&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">player&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">({}&lt;/span> &lt;span class="nx">as&lt;/span> &lt;span class="nx">DPlayer&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">srsAddress&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">options&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">serverAddress&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">playerContainer&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">videoItem&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">computed&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">createVideo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">liveType&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">liveType&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">flvJs&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">srsAddress&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">props&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">streamName&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">onMounted&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">player&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">DPlayer&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">container&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">playerContainer&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="nx">as&lt;/span> &lt;span class="nx">HTMLElement&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">live&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">autoplay&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">theme&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;#F19EC2&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">video&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">videoItem&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">player&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="o">?&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">play&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 当源地址值更新时，切换视频。
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">onUpdated&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">player&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="o">?&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">pause&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">player&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="o">?&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">switchVideo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">videoItem&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{}&lt;/span> &lt;span class="nx">as&lt;/span> &lt;span class="nx">DPlayerDanmaku&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">player&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="o">?&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">play&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>其中，&lt;code>createVideo&lt;/code> 方法是自己编写的工具方法，用于生成含有对应 &lt;code>customType&lt;/code> 的 &lt;code>video&lt;/code> 对象。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt"> 10
&lt;/span>&lt;span class="lnt"> 11
&lt;/span>&lt;span class="lnt"> 12
&lt;/span>&lt;span class="lnt"> 13
&lt;/span>&lt;span class="lnt"> 14
&lt;/span>&lt;span class="lnt"> 15
&lt;/span>&lt;span class="lnt"> 16
&lt;/span>&lt;span class="lnt"> 17
&lt;/span>&lt;span class="lnt"> 18
&lt;/span>&lt;span class="lnt"> 19
&lt;/span>&lt;span class="lnt"> 20
&lt;/span>&lt;span class="lnt"> 21
&lt;/span>&lt;span class="lnt"> 22
&lt;/span>&lt;span class="lnt"> 23
&lt;/span>&lt;span class="lnt"> 24
&lt;/span>&lt;span class="lnt"> 25
&lt;/span>&lt;span class="lnt"> 26
&lt;/span>&lt;span class="lnt"> 27
&lt;/span>&lt;span class="lnt"> 28
&lt;/span>&lt;span class="lnt"> 29
&lt;/span>&lt;span class="lnt"> 30
&lt;/span>&lt;span class="lnt"> 31
&lt;/span>&lt;span class="lnt"> 32
&lt;/span>&lt;span class="lnt"> 33
&lt;/span>&lt;span class="lnt"> 34
&lt;/span>&lt;span class="lnt"> 35
&lt;/span>&lt;span class="lnt"> 36
&lt;/span>&lt;span class="lnt"> 37
&lt;/span>&lt;span class="lnt"> 38
&lt;/span>&lt;span class="lnt"> 39
&lt;/span>&lt;span class="lnt"> 40
&lt;/span>&lt;span class="lnt"> 41
&lt;/span>&lt;span class="lnt"> 42
&lt;/span>&lt;span class="lnt"> 43
&lt;/span>&lt;span class="lnt"> 44
&lt;/span>&lt;span class="lnt"> 45
&lt;/span>&lt;span class="lnt"> 46
&lt;/span>&lt;span class="lnt"> 47
&lt;/span>&lt;span class="lnt"> 48
&lt;/span>&lt;span class="lnt"> 49
&lt;/span>&lt;span class="lnt"> 50
&lt;/span>&lt;span class="lnt"> 51
&lt;/span>&lt;span class="lnt"> 52
&lt;/span>&lt;span class="lnt"> 53
&lt;/span>&lt;span class="lnt"> 54
&lt;/span>&lt;span class="lnt"> 55
&lt;/span>&lt;span class="lnt"> 56
&lt;/span>&lt;span class="lnt"> 57
&lt;/span>&lt;span class="lnt"> 58
&lt;/span>&lt;span class="lnt"> 59
&lt;/span>&lt;span class="lnt"> 60
&lt;/span>&lt;span class="lnt"> 61
&lt;/span>&lt;span class="lnt"> 62
&lt;/span>&lt;span class="lnt"> 63
&lt;/span>&lt;span class="lnt"> 64
&lt;/span>&lt;span class="lnt"> 65
&lt;/span>&lt;span class="lnt"> 66
&lt;/span>&lt;span class="lnt"> 67
&lt;/span>&lt;span class="lnt"> 68
&lt;/span>&lt;span class="lnt"> 69
&lt;/span>&lt;span class="lnt"> 70
&lt;/span>&lt;span class="lnt"> 71
&lt;/span>&lt;span class="lnt"> 72
&lt;/span>&lt;span class="lnt"> 73
&lt;/span>&lt;span class="lnt"> 74
&lt;/span>&lt;span class="lnt"> 75
&lt;/span>&lt;span class="lnt"> 76
&lt;/span>&lt;span class="lnt"> 77
&lt;/span>&lt;span class="lnt"> 78
&lt;/span>&lt;span class="lnt"> 79
&lt;/span>&lt;span class="lnt"> 80
&lt;/span>&lt;span class="lnt"> 81
&lt;/span>&lt;span class="lnt"> 82
&lt;/span>&lt;span class="lnt"> 83
&lt;/span>&lt;span class="lnt"> 84
&lt;/span>&lt;span class="lnt"> 85
&lt;/span>&lt;span class="lnt"> 86
&lt;/span>&lt;span class="lnt"> 87
&lt;/span>&lt;span class="lnt"> 88
&lt;/span>&lt;span class="lnt"> 89
&lt;/span>&lt;span class="lnt"> 90
&lt;/span>&lt;span class="lnt"> 91
&lt;/span>&lt;span class="lnt"> 92
&lt;/span>&lt;span class="lnt"> 93
&lt;/span>&lt;span class="lnt"> 94
&lt;/span>&lt;span class="lnt"> 95
&lt;/span>&lt;span class="lnt"> 96
&lt;/span>&lt;span class="lnt"> 97
&lt;/span>&lt;span class="lnt"> 98
&lt;/span>&lt;span class="lnt"> 99
&lt;/span>&lt;span class="lnt">100
&lt;/span>&lt;span class="lnt">101
&lt;/span>&lt;span class="lnt">102
&lt;/span>&lt;span class="lnt">103
&lt;/span>&lt;span class="lnt">104
&lt;/span>&lt;span class="lnt">105
&lt;/span>&lt;span class="lnt">106
&lt;/span>&lt;span class="lnt">107
&lt;/span>&lt;span class="lnt">108
&lt;/span>&lt;span class="lnt">109
&lt;/span>&lt;span class="lnt">110
&lt;/span>&lt;span class="lnt">111
&lt;/span>&lt;span class="lnt">112
&lt;/span>&lt;span class="lnt">113
&lt;/span>&lt;span class="lnt">114
&lt;/span>&lt;span class="lnt">115
&lt;/span>&lt;span class="lnt">116
&lt;/span>&lt;span class="lnt">117
&lt;/span>&lt;span class="lnt">118
&lt;/span>&lt;span class="lnt">119
&lt;/span>&lt;span class="lnt">120
&lt;/span>&lt;span class="lnt">121
&lt;/span>&lt;span class="lnt">122
&lt;/span>&lt;span class="lnt">123
&lt;/span>&lt;span class="lnt">124
&lt;/span>&lt;span class="lnt">125
&lt;/span>&lt;span class="lnt">126
&lt;/span>&lt;span class="lnt">127
&lt;/span>&lt;span class="lnt">128
&lt;/span>&lt;span class="lnt">129
&lt;/span>&lt;span class="lnt">130
&lt;/span>&lt;span class="lnt">131
&lt;/span>&lt;span class="lnt">132
&lt;/span>&lt;span class="lnt">133
&lt;/span>&lt;span class="lnt">134
&lt;/span>&lt;span class="lnt">135
&lt;/span>&lt;span class="lnt">136
&lt;/span>&lt;span class="lnt">137
&lt;/span>&lt;span class="lnt">138
&lt;/span>&lt;span class="lnt">139
&lt;/span>&lt;span class="lnt">140
&lt;/span>&lt;span class="lnt">141
&lt;/span>&lt;span class="lnt">142
&lt;/span>&lt;span class="lnt">143
&lt;/span>&lt;span class="lnt">144
&lt;/span>&lt;span class="lnt">145
&lt;/span>&lt;span class="lnt">146
&lt;/span>&lt;span class="lnt">147
&lt;/span>&lt;span class="lnt">148
&lt;/span>&lt;span class="lnt">149
&lt;/span>&lt;span class="lnt">150
&lt;/span>&lt;span class="lnt">151
&lt;/span>&lt;span class="lnt">152
&lt;/span>&lt;span class="lnt">153
&lt;/span>&lt;span class="lnt">154
&lt;/span>&lt;span class="lnt">155
&lt;/span>&lt;span class="lnt">156
&lt;/span>&lt;span class="lnt">157
&lt;/span>&lt;span class="lnt">158
&lt;/span>&lt;span class="lnt">159
&lt;/span>&lt;span class="lnt">160
&lt;/span>&lt;span class="lnt">161
&lt;/span>&lt;span class="lnt">162
&lt;/span>&lt;span class="lnt">163
&lt;/span>&lt;span class="lnt">164
&lt;/span>&lt;span class="lnt">165
&lt;/span>&lt;span class="lnt">166
&lt;/span>&lt;span class="lnt">167
&lt;/span>&lt;span class="lnt">168
&lt;/span>&lt;span class="lnt">169
&lt;/span>&lt;span class="lnt">170
&lt;/span>&lt;span class="lnt">171
&lt;/span>&lt;span class="lnt">172
&lt;/span>&lt;span class="lnt">173
&lt;/span>&lt;span class="lnt">174
&lt;/span>&lt;span class="lnt">175
&lt;/span>&lt;span class="lnt">176
&lt;/span>&lt;span class="lnt">177
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">mpegts&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s2">&amp;#34;mpegts.js&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">Mpegts&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s2">&amp;#34;mpegts.js&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">FlvJs&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s2">&amp;#34;flv.js&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">flvjs&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s2">&amp;#34;flv.js&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">Hls&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s2">&amp;#34;hls.js&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">dashjs&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="nx">MediaPlayerClass&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s2">&amp;#34;dashjs&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">enum&lt;/span> &lt;span class="nx">MesPlayerName&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">HttpFlvByMpegTsJs&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;mpegTsJs&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">HttpFlvByFlvJs&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;flvJs&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">HLSByHlsJs&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;hlsJs&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">DASHByDashJs&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;dashJs&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">DASHByShaka&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;dashShaka&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">interface&lt;/span> &lt;span class="nx">IMsePlayerInfo&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>: &lt;span class="kt">MesPlayerName&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">player&lt;/span>: &lt;span class="kt">any&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">extension&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">title&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// 创建播放器
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">createPlayer&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">video&lt;/span>: &lt;span class="kt">HTMLVideoElement&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="k">void&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// 加载直播流
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">loadPlayer&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">video&lt;/span>: &lt;span class="kt">HTMLVideoElement&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="k">void&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">hasStream&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kr">boolean&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// 卸载直播流
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">unloadPlayer&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="k">void&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">_mesPlayerList&lt;/span>: &lt;span class="kt">Array&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">IMsePlayerInfo&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>: &lt;span class="kt">MesPlayerName.HttpFlvByMpegTsJs&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">player&lt;/span>: &lt;span class="kt">null&lt;/span> &lt;span class="kr">as&lt;/span> &lt;span class="nx">Mpegts&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Player&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">extension&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;flv&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">title&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;HTTP-FLV(mpegts.js)&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">createPlayer&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">video&lt;/span>: &lt;span class="kt">HTMLVideoElement&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">streamUrl&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">video&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">src&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">player&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mpegts&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createPlayer&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">type&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;flv&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">isLive&lt;/span>: &lt;span class="kt">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">url&lt;/span>: &lt;span class="kt">streamUrl&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">loadPlayer&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">video&lt;/span>: &lt;span class="kt">HTMLVideoElement&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`[videoEngine,flvJs,unloadPlayer]detach and unload mpegts.js player.`&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">player&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">attachMediaElement&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">video&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">player&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">load&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">player&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">on&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">mpegts&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Events&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">LOADING_COMPLETE&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">player&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">play&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">unloadPlayer() {&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`[videoEngine,flvJs,unloadPlayer]detach and unload mpegts.js player.`&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">player&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">detachMediaElement&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">player&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">unload&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span> &lt;span class="nx">hasStream() {&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">player&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">isPlaying&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>: &lt;span class="kt">MesPlayerName.HttpFlvByFlvJs&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">player&lt;/span>: &lt;span class="kt">null&lt;/span> &lt;span class="kr">as&lt;/span> &lt;span class="nx">FlvJs&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Player&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">extension&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;flv&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">title&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;HTTP-FLV(flv.js)&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">createPlayer&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">video&lt;/span>: &lt;span class="kt">HTMLVideoElement&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">streamUrl&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">video&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">src&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">player&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">flvjs&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createPlayer&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">type&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;flv&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">isLive&lt;/span>: &lt;span class="kt">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">url&lt;/span>: &lt;span class="kt">streamUrl&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">loadPlayer&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">video&lt;/span>: &lt;span class="kt">HTMLVideoElement&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`[videoEngine,flvJs,unloadPlayer]detach and unload flv.js player.`&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">player&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">attachMediaElement&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">video&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">player&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">load&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">unloadPlayer() {&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`[videoEngine,flvJs,unloadPlayer]detach and unload flv.js player.`&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">player&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">detachMediaElement&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">player&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">unload&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span> &lt;span class="nx">hasStream() {&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">player&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">isPlaying&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>: &lt;span class="kt">MesPlayerName.HLSByHlsJs&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">player&lt;/span>: &lt;span class="kt">null&lt;/span> &lt;span class="kr">as&lt;/span> &lt;span class="nx">Hls&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">extension&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;m3u8&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">title&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;HLS(hls.js)&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">createPlayer&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">video&lt;/span>: &lt;span class="kt">HTMLVideoElement&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kt">any&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">player&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Hls&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">loadPlayer&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">video&lt;/span>: &lt;span class="kt">HTMLVideoElement&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">streamLink&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">video&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">src&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">player&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">loadSource&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">streamLink&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">player&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">attachMedia&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">video&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">unloadPlayer() {&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`[videoEngine,hlsJs,unloadPlayer]nothing todo with hls.js player.`&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">hasStream() {&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">player&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">isLevelLoaded&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>: &lt;span class="kt">MesPlayerName.DASHByDashJs&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">player&lt;/span>: &lt;span class="kt">null&lt;/span> &lt;span class="kr">as&lt;/span> &lt;span class="nx">MediaPlayerClass&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">extension&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;mpd&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">title&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;MPEG DASH(dash.js)&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">createPlayer&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">video&lt;/span>: &lt;span class="kt">HTMLVideoElement&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kt">any&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">player&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">dashjs&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">MediaPlayer&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">create&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">loadPlayer&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">video&lt;/span>: &lt;span class="kt">HTMLVideoElement&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">streamLink&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">video&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">src&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">player&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">initialize&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">video&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">streamLink&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">player&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">updateSettings&lt;/span>&lt;span class="p">({&lt;/span>&lt;span class="nx">streaming&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="nx">delay&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="nx">liveDelay&lt;/span>: &lt;span class="kt">10&lt;/span>&lt;span class="p">}}});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">unloadPlayer() {&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">player&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">reset&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`[videoEngine,hlsJs,unloadPlayer]nothing todo with hls.js player.`&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">hasStream() {&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="nx">getPlayerInfo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">playerName&lt;/span>: &lt;span class="kt">MesPlayerName&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">IMsePlayerInfo&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="kc">undefined&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">playerInfo&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">_mesPlayerList&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">player&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="nx">player&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="nx">playerName&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nx">playerInfo&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`[videoEngine,getPlayerInfo]can not find player named &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">playerName&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">.`&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">playerInfo&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="nx">createVideo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">playerName&lt;/span>: &lt;span class="kt">MesPlayerName&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">srsAddress&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">streamName&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">playerInfo&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">_mesPlayerList&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">player&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="nx">player&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="nx">playerName&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nx">playerInfo&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`[videoEngine,createVideo]can not find player&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">playerName&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">.`&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">streamUrl&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sb">`//&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">srsAddress&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">:8080/live/&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">streamName&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">.&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">playerInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">extension&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">url&lt;/span>: &lt;span class="kt">streamUrl&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">type&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;streamPlayer&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pic&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;./PM5644.webp&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">customType&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">streamPlayer&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">video&lt;/span>: &lt;span class="kt">HTMLVideoElement&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nx">playerInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">player&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">playerInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createPlayer&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">video&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">playerInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">hasStream&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">playerInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">unloadPlayer&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">playerInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">loadPlayer&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">video&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>完整实现见：&lt;a class="link" href="https://github.com/nidbCN/live_room" target="_blank" rel="noopener"
>live_room&lt;/a>&lt;/p>
&lt;h2 id="参考">参考
&lt;/h2>&lt;ol>
&lt;li>&lt;a class="link" href="https://dplayer.diygod.dev/zh/guide.html#mse-%E6%94%AF%E6%8C%81" target="_blank" rel="noopener"
>指南 | DPlayer&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/Guide/Audio_and_video_delivery/Live_streaming_web_audio_and_video" target="_blank" rel="noopener"
>实时传输 Web 音频与视频 - Web 开发者指南 | MDN&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/video-dev/hls.js" target="_blank" rel="noopener"
>video-dev/hls.js: HLS.js is a JavaScript library that plays HLS in browsers with support for MSE.&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/Dash-Industry-Forum/dash.js" target="_blank" rel="noopener"
>Dash-Industry-Forum/dash.js: A reference client implementation for the playback of MPEG DASH via Javascript and compliant browsers.&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/shaka-project/shaka-player" target="_blank" rel="noopener"
>shaka-project/shaka-player: JavaScript player library / DASH &amp;amp; HLS client / MSE-EME player&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/xqq/mpegts.js" target="_blank" rel="noopener"
>xqq/mpegts.js: HTML5 MPEG2-TS / FLV Stream Player&lt;/a>&lt;/li>
&lt;/ol></description></item><item><title>J1900软路由+小米AC2100 / OpenWRT —— 我的家庭网络方案</title><link>https://blog.gaein.cn/passages/home-network/</link><pubDate>Sun, 14 Aug 2022 00:23:38 +0800</pubDate><guid>https://blog.gaein.cn/passages/home-network/</guid><description>&lt;blockquote>
&lt;p>一定要勤备份配置&lt;/p>&lt;/blockquote>
&lt;h2 id="前言">前言
&lt;/h2>&lt;p>&lt;del>我似乎好久好久没写过博客了&lt;/del>&lt;/p>
&lt;p>&lt;del>怎么感觉一不小心写成流水日记了&lt;/del>&lt;/p>
&lt;h3 id="树莓派-server-时代">树莓派 server 时代
&lt;/h3>&lt;p>上学期疫情在家整整呆了半年，越看家里网络越不顺眼。以前是电信的光猫+华为路由器，不能用zt连学校资源，也不怎么好挂pt，也没有代理服务器（clash 跑在本机有些太费电）。于是着手弄我朋友送我的一个树莓派，刷单臂软路由，无奈 DHCP 一直配不好&amp;hellip;结果就鸽子了，跑个 ubuntu server 当内网服务器用了&amp;hellip;&lt;/p>
&lt;h3 id="折腾-openwrt-与-小米ac2100">折腾 OpenWRT 与 小米AC2100
&lt;/h3>&lt;p>后来在 TJUPT 内部群唠嗑90收了一个小米AC2100，我家的旧华为路由器海鲜市场卖了110，还挺神奇的。&lt;/p>
&lt;p>于是，小米AC2100开始刷 OpenWRT，最开始在恩山上面找了许多包，不过都有些小问题（WLAN 得手动开的、配置防火墙卡死的&amp;hellip;）直到用了我同学推荐的 &lt;a class="link" href="https://supes.top/" target="_blank" rel="noopener"
>OpenWRT固件下载与在线定制编译&lt;/a>，一个大佬适配的固件，貌似是用 GithubAction 在线编译。虽然一些功能需要赞助才能开（自定义主机名之类的）不过也就无所谓了。光猫桥接、开 ipv6、拨号上网一气呵成，舒服多了。&lt;/p>
&lt;h3 id="公网ip-与-3965u-软路由">公网IP 与 3965U 软路由
&lt;/h3>&lt;p>之后我家的网络大抵稳定了一段时间，直到看见同学找电信客服（或许是安徽电信）要了个公网IP，想了一想似乎也挺方便，我也去问问。不过河北的在线客服不能直接办，要留你的联系方式等着当地的维修师傅打电话。当时已经傍晚了，没想到过了一个小时师傅来了电话，和我谈妥了。他说明天上午保电信局审批，到时候告诉我，我重新拨号试试。我一觉呼呼大睡起来就有了。&lt;/p>
&lt;p>关于公网 IP ，似乎电信要起来更方便一些。至于端口是 REJECT 了 &lt;code>80&lt;/code>、 &lt;code>443&lt;/code>、&lt;code>8080&lt;/code> ，应该是工信部的要求。&lt;/p>
&lt;p>寻思着都这样了，不如再搞个软路由挂 PT？正好很久以前拖欠的黑工工钱到了，就去海鲜市场买了个 3965U 软路由，4t HGST 的机械硬盘，一台 H3C 铁壳千兆交换机（问就是“企业级”）、AMP 的网线、mPCIE 千兆网卡&amp;hellip;&lt;/p>
&lt;p>外壳切了，把 mPCIE 网卡的 RJ45 口引出来。&lt;/p>
&lt;p>mSATA 的硬盘没法插电脑，传统的镜像写入软件写不了硬盘，最后弄了个 WTG 在软路由本机刷机。&lt;/p>
&lt;p>后来因为手贱更新之类又炸了两次，终于一切弄好装进弱电柜——电源炸了，连带主板一起开不开了。拔下电源万用表测输出 AC 12V，可能是整流器坏了&amp;hellip;？&lt;/p>
&lt;h3 id="j1900-软路由一体化供电">J1900 软路由，一体化供电
&lt;/h3>&lt;p>弄都弄了，干脆又买了一台 J1900 （因为实在买不到那么便宜的 3965U 了），刷系统、小米 AC2100 刷系统做 ap&amp;hellip;&lt;/p>
&lt;p>另外有一点非常神奇的是，我所有的设备全是 12v 直流供电，因此直接买了一个 12v 直流电源（100W 的大概二三十）。服务器电源改 比较便宜但是弱电柜放不下，看了半天尺寸只好买了一个明纬的二手电源。&lt;/p>
&lt;p>顺便 3.5 寸的 SATA 硬盘也需要一个 12v 供电，改了一个上去，5v 和 GND 依旧用软路由自带的供电。&lt;/p>
&lt;p>&lt;img src="https://img.cdn.gaein.cn/website_used/blog/Home-Network/01.webp"
loading="lazy"
alt="供电"
>&lt;/p>
&lt;p>看上去好危险啊（小声）&lt;/p>
&lt;h2 id="软路由-openwrt-安装">软路由 OpenWRT 安装
&lt;/h2>&lt;p>为了更方便的刷写 mSATA 硬盘，我买了一个 mSATA 转 SATA 的硬盘盒，再接一个 SATA 转 USB 的&amp;hellip;&lt;/p>
&lt;p>使用 &lt;a class="link" href="https://www.balena.io/etcher/" target="_blank" rel="noopener"
>balenaEtcher&lt;/a> 可以刷写硬盘而不仅仅是 U 盘，当然，使用 Linux 系统的 &lt;code>dd&lt;/code> 命令、或者在 WinPE 下使用 &lt;code>physdiskwrite.exe&lt;/code> 来写入：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">physdiskwrite.exe -u openwrt-21.02.0-x86-64-generic-ext4-combined.img.gz -d &lt;span class="m">0&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>安装完后直接进入系统即可，我在这遇到了一点小问题：我的机器无法进入 UEFI 固件设置，没办法改启动项，所以只好在 EFI 分区中编写 &lt;code>startup.nsh&lt;/code> 脚本。&lt;/p>
&lt;p>内容如下：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">fs0:\efi\boot\bootx64.efi
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="配置软路由-openwrt">配置软路由 OpenWRT
&lt;/h2>&lt;p>安装完系统后连接到软路由（网线、无线皆可）&lt;/p>
&lt;h3 id="拨号上网">拨号上网
&lt;/h3>&lt;p>更改 WAN 口为 “PPPOE”，输入宽带账号密码即可。IPv6将会自动分配。&lt;/p>
&lt;p>&lt;img src="https://img.cdn.gaein.cn/website_used/blog/Home-Network/02.webp"
loading="lazy"
alt="WAN口"
>&lt;/p>
&lt;blockquote>
&lt;p>如图，WAN 口显示的 IP 地址中，如果在 &lt;code>192.168.0.0/16&lt;/code>、&lt;code>172.16.0.0/12&lt;/code> 或 &lt;code>10.0.0.0/8&lt;/code> 中的话，则是“私有地址”，即你运营商的大内网，除此之外分配给你的地址基本都会是“公网IP”。&lt;/p>&lt;/blockquote>
&lt;h3 id="连接到光猫设置页面">连接到光猫设置页面
&lt;/h3>&lt;p>因为需要用路由器拨号，所以将光猫改为成“桥接模式”，光猫的 IP 地址为 &lt;code>192.168.9.1&lt;/code>，因此我无法直接访问光猫的设置界面。&lt;/p>
&lt;p>解决方案是在 WAN 口的设备上新增加一个 IP 在 &lt;code>192.168.9.0/24&lt;/code> 子网的接口，通过该接口访问 &lt;code>192.168.9.1&lt;/code>。&lt;/p>
&lt;p>新建接口，命名为 “lan_wan” ，协议为“静态IP”，地址为 &lt;code>192.168.9.2&lt;/code> （子网内的任意 IP 地址均可）。设备处选择“以太网适配器eth0”。&lt;/p>
&lt;blockquote>
&lt;p>设备名可能会不同，留意一下 wan 口的连接设备即可。IP 地址仅作示范，具体还需要根据网络情况设置。&lt;/p>&lt;/blockquote>
&lt;p>添加完成后在“高级设置”中，找到“使用网关跃点”项，填写为 &lt;code>64&lt;/code> （或者任意一个较大的数字）。这样可以避免默认流量从非上网用的接口走。&lt;/p>
&lt;blockquote>
&lt;p>网关跃点可以解释为类似于“优先级”的东西，跃点数越大代表“从这个网络走的代价越大”，即效果是优先级低。&lt;/p>&lt;/blockquote>
&lt;p>配置完后路由器的路由表中将多出 &lt;code>192.168.9.0/24 via 192.168.9.2&lt;/code> 这样类似的条目。以后再使用 192.168.9.1 访问光猫配置页面时候就会从这个口走了。&lt;/p>
&lt;h3 id="argon-主题设置">Argon 主题设置
&lt;/h3>&lt;p>没想到吧接下来居然要说这个。&lt;/p>
&lt;p>OpenWRT 官方的主题并谈不上好看，Edge 这个主题我又不是很喜欢。之前用过 &lt;a class="link" href="https://www.right.com.cn/forum/thread-4003173-1-1.html" target="_blank" rel="noopener"
>Infinity Freedom&lt;/a> 这个主题，不过不是特别兼容我的系统，所以只好选择了经典的 &lt;code>Argon&lt;/code> 来用。&lt;/p>
&lt;p>在“软件包”中安装插件 &lt;code>luci-app-argon-config&lt;/code> ，可以在 luci 中添加一个设置主题的界面。&lt;/p>
&lt;p>然后来到设置界面中上传自己喜欢的壁纸，和更改自己喜欢的主题色。&lt;/p>
&lt;p>我设置了 &lt;code>#F19EC2&lt;/code> 作为我的主题色，不会有人不喜欢樱花粉吧？&lt;/p>
&lt;p>&lt;img src="https://img.cdn.gaein.cn/website_used/blog/Home-Network/03.webp"
loading="lazy"
alt="HEX预览"
>&lt;/p>
&lt;p>首页效果：&lt;/p>
&lt;p>&lt;img src="https://img.cdn.gaein.cn/website_used/blog/Home-Network/04.webp"
loading="lazy"
alt="效果图"
>&lt;/p>
&lt;h3 id="对网段进行限速">对网段进行限速
&lt;/h3>&lt;p>有些莫名奇妙的需求，因为我家里所有设备全分配了静态 IP 地址：&lt;/p>
&lt;ol>
&lt;li>网络设备（路由器等） &lt;code>192.168.8.1&lt;/code> - &lt;code>192.168.8.31&lt;/code>；&lt;/li>
&lt;li>Windows 设备（台式笔记本等） &lt;code>192.168.8.32&lt;/code> - &lt;code>192.168.8.47&lt;/code>；&lt;/li>
&lt;li>移动设备（手机） &lt;code>192.168.8.48&lt;/code> - &lt;code>192.168.8.63&lt;/code>；&lt;/li>
&lt;li>DHCP地址 &lt;code>192.168.8.64&lt;/code> - &lt;code>192.168.8.127&lt;/code>；&lt;/li>
&lt;/ol>
&lt;p>所以在 &lt;code>192.168.8.64&lt;/code> - &lt;code>192.168.8.127&lt;/code> 段的设备基本都是客人之类的——总之不是家里的固定设备，所以想要进行限速。使用的插件如下：&lt;/p>
&lt;ol>
&lt;li>luci-app-eqos&lt;/li>
&lt;/ol>
&lt;p>在插件后台启用，然后填写 &lt;code>IP段&lt;/code> 进行限速就可以了。比如我需要限制的是 &lt;code>192.168.8.64/26&lt;/code>&lt;/p>
&lt;h2 id="配置-ap-openwrt">配置 AP OpenWRT
&lt;/h2>&lt;p>前前后后不知道配置了多少次&amp;hellip;主要问题还是如果弄错了很可能就直接连不上后台了:D&lt;/p>
&lt;p>主要的办法就是把 &lt;code>WAN&lt;/code> 和 &lt;code>LAN&lt;/code> 全接在一个接口上，&lt;code>WLAN&lt;/code> 也接上去就行了，没有像厂家固件那样方便的改一个什么 “有线中继” 那么方便。作为 AP 的话真的很推荐使用原厂固件（但是 MiWiFi 一直在那请求 &lt;code>api.miwifi.com&lt;/code> 在后台看 log 看的我实在心烦）&lt;/p>
&lt;h3 id="nat模式">NAT模式
&lt;/h3>&lt;p>能上网也是最省心的模式，构建的时候设置好一个不同于上面的 LAN IP 即可（比如 &lt;code>192.168.7.1&lt;/code>），WAN 口设置 DHCP地址。&lt;/p>
&lt;p>太不优雅啦（大声&lt;/p>
&lt;h3 id="ap模式">AP模式
&lt;/h3>&lt;p>参阅：&lt;/p>
&lt;ol>
&lt;li>&lt;a class="link" href="https://openwrt.org/docs/guide-user/network/wifi/dumbap" target="_blank" rel="noopener"
>[OpenWrt Wiki] Wireless Access Point / Dumb Access Point&lt;/a>&lt;/li>
&lt;/ol>
&lt;p>网络 &amp;gt; 接口 &amp;gt; 设备中选择 &lt;code>br-lan&lt;/code> 的 “配置”，将接口中加入 &lt;code>wan&lt;/code> 口。&lt;/p>
&lt;p>关闭 &lt;code>LAN&lt;/code> 口的 DHCP 服务器（我是根本没安装 Dnsmasq ）&lt;/p>
&lt;p>将 &lt;code>WAN&lt;/code> 口协议改为 “DHCP客户端” 或 “静态地址”&lt;/p>
&lt;ul>
&lt;li>如果你的上级路由（比如软路由）配置好了静态地址给这台 AP，就可以用 “DHCP客户端”，管理起来也更方便；&lt;/li>
&lt;li>如果静态地址没配好，那就选择“静态地址”并且填写一个同网段的地址（比如 &lt;code>192.168.8.2&lt;/code>）；&lt;/li>
&lt;/ul>
&lt;p>将 &lt;code>WAN&lt;/code> 口的防火墙区域改为 &lt;code>lan&lt;/code>&lt;/p>
&lt;p>将无线设置中接口由 &lt;code>lan&lt;/code> 改到 &lt;code>wan&lt;/code>&lt;/p>
&lt;p>禁用防火墙&lt;/p>
&lt;p>保存确认设置无误后删除 &lt;code>lan&lt;/code> 接口（留着也可以，以备万一）&lt;/p>
&lt;h2 id="硬件改造">硬件改造
&lt;/h2>&lt;p>其实很多精力还花费在对弱电柜内部的改造上&lt;/p>
&lt;h3 id="改35硬盘供电">改3.5硬盘供电
&lt;/h3>&lt;p>绝大多数工控小主机的 SATA 供电是为2.5寸硬盘设计的，2.5寸硬盘供电和3.5寸硬盘供电的主要区别就是2.5的少了一对 +12v 。所以我们只需要一个 12v 的直流电源，并且接到供电口就可以。&lt;/p>
&lt;p>至于带有 12v 的 SATA 供电口，我手里有一个以前 ITX 用的，实在没有也可以考虑从旧的台式机 ATX 电源上面剪下来一个。&lt;/p>
&lt;p>至于引脚定义详见下图：&lt;/p>
&lt;p>&lt;img src="https://img.cdn.gaein.cn/website_used/blog/Home-Network/05.webp"
loading="lazy"
alt="SATA供电口"
>&lt;/p>
&lt;p>正好接到我前言中说的 12v 开关电源上。&lt;/p>
&lt;p>至于 SATA 线，我依旧是用锉刀挫开了一个槽，把线走了出去，千万注意不要太勉强，不然盖子把线压坏然后短路——后果不堪设想。&lt;/p>
&lt;h3 id="弱电柜里的铁架子">弱电柜里的铁架子
&lt;/h3>&lt;p>角钢真的是一种非常好的东西，便宜、而且非常容易 DIY，之前我的宿舍床上也是用这种角铁打了一个框架。至于价格的话，淘宝找那种卖二手角铁做货架的定制一下，我记得也就几十块钱。&lt;/p>
&lt;p>只需要量好尺寸，想好放什么，比如我：&lt;/p>
&lt;ul>
&lt;li>第一层：H3C 交换机&lt;/li>
&lt;li>第二层：软路由&lt;/li>
&lt;li>第三层：光猫&lt;/li>
&lt;/ul>
&lt;p>而且上面密密麻麻的孔洞非常适合绑扎带和走线&lt;/p>
&lt;p>&lt;img src="https://img.cdn.gaein.cn/website_used/blog/Home-Network/06.webp"
loading="lazy"
alt="弱电柜"
>&lt;/p>
&lt;blockquote>
&lt;p>虽然这还不是完全走好了之后的图，不过这么绑起来也很舒服&lt;/p>&lt;/blockquote>
&lt;p>具体的各种配置有很多，前前后后也折腾了十天半个月，一些复杂一点的配置我就分开写博客再说（）&lt;/p></description></item><item><title>配置 ZeroTier 私人节点</title><link>https://blog.gaein.cn/passages/configure-zerotier-moon/</link><pubDate>Thu, 07 Oct 2021 17:07:35 +0800</pubDate><guid>https://blog.gaein.cn/passages/configure-zerotier-moon/</guid><description>&lt;h2 id="准备工作">准备工作
&lt;/h2>&lt;p>一台有 &lt;strong>静态公网 IP&lt;/strong> 的服务器，装有 Ubuntu 20.04 LTS 以及 ZeroTier-one 。&lt;/p>
&lt;blockquote>
&lt;p>Ubuntu 安装 ZeroTier-one 详见 &lt;a class="link" href="https://www.zerotier.com/download/#downloadLinux" target="_blank" rel="noopener"
>Download - ZeroTier&lt;/a>&lt;/p>&lt;/blockquote>
&lt;h2 id="创建网络">创建网络
&lt;/h2>&lt;p>在 &lt;a class="link" href="https://my.zerotier.com/network" target="_blank" rel="noopener"
>ZeroTier Central&lt;/a> 中创建一个网路并设置为 private。&lt;/p>
&lt;h2 id="配置服务器">配置服务器
&lt;/h2>&lt;blockquote>
&lt;p>参考 &lt;a class="link" href="https://docs.zerotier.com/zerotier/moons" target="_blank" rel="noopener"
>Private Root Servers | ZeroTier Documentation&lt;/a>&lt;/p>&lt;/blockquote>
&lt;h3 id="创建-world-定义">创建 world 定义
&lt;/h3>&lt;p>转到目录 &lt;code>/var/lib/zerotier-one&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> /var/lib/zerotier-one
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>生成 &lt;code>moon.json&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">zerotier-idtool initmoon identity.public &amp;gt;&amp;gt;moon.json
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>此文件包含机密信息，请妥善保管&lt;/strong>&lt;/p>
&lt;p>修改 &lt;code>moon.json&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">vim moon.json
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>在 &lt;code>roots&lt;/code> 中的第一个子节点的 &lt;code>stableEndpoints&lt;/code> 节点中填入 &lt;code>&amp;lt;你的服务器IP&amp;gt;/&amp;lt;ZeroTier端口&amp;gt;&lt;/code> 如下：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;stableEndpoints&amp;#34;&lt;/span>: &lt;span class="o">[&lt;/span> &lt;span class="s2">&amp;#34;1.2.3.4/9993&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="签发-moon">签发 moon
&lt;/h3>&lt;p>签发 &lt;code>000000deadbeef00.moon&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">zerotier-idtool genmoon moon.json
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>此文件不包含机密信息，但是它从包含有机密信息的 &lt;code>moon.json&lt;/code> 签发而来。&lt;/p>&lt;/blockquote>
&lt;h3 id="启用端口">启用端口
&lt;/h3>&lt;p>开启 Ubuntu 防火墙的 &lt;code>9993&lt;/code> 端口：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">ufw allow &lt;span class="m">9993&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>服务商控制面板如有防火墙请放行 &lt;code>9993&lt;/code> 端口。&lt;/p>
&lt;h2 id="配置客户端">配置客户端
&lt;/h2>&lt;p>转到 &lt;code>ZeroTier&lt;/code> 目录&lt;/p>
&lt;ul>
&lt;li>Windows: &lt;code>C:\ProgramData\ZeroTier\One&lt;/code>&lt;/li>
&lt;li>Macintosh: &lt;code>/Library/Application Support/ZeroTier/One&lt;/code>&lt;/li>
&lt;li>Linux: &lt;code>/var/lib/zerotier-one&lt;/code>&lt;/li>
&lt;li>FreeBSD/OpenBSD: &lt;code>/var/db/zerotier-one&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>在 &lt;code>ZeroTier&lt;/code> 目录下创建文件夹 &lt;code>moons.d&lt;/code>&lt;/p>
&lt;p>将服务端生成的 &lt;code>.moon&lt;/code> 文件复制到 &lt;code>moons.d&lt;/code> 文件夹中并重启 ZeroTier&lt;/p></description></item><item><title>【弃坑】在红米4X上安装LineageOS</title><link>https://blog.gaein.cn/passages/lineageos-on-redmi-4x/</link><pubDate>Mon, 04 Oct 2021 18:43:15 +0800</pubDate><guid>https://blog.gaein.cn/passages/lineageos-on-redmi-4x/</guid><description>&lt;blockquote>
&lt;p>本来就想顺便玩玩结果用了4部手机了.jpg&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>设备：红米4X(santoni)&lt;br>
系统：MIUI开发版 9.10.11
架构：ARM64&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>咕咕咕中，问题真的好多啊&lt;/p>&lt;/blockquote>
&lt;h2 id="准备工作">准备工作
&lt;/h2>&lt;blockquote>
&lt;p>另请参阅：&lt;a class="link" href="https://wiki.lineageos.org/devices/santoni/install" target="_blank" rel="noopener"
>Install LineageOS on santoni | LineageOS Wiki&lt;/a>&lt;/p>&lt;/blockquote>
&lt;h3 id="安装adb和fastboot">安装ADB和FastBoot
&lt;/h3>&lt;ol>
&lt;li>从 &lt;a class="link" href="https://dl.google.com/android/repository/platform-tools-latest-windows.zip" target="_blank" rel="noopener"
>Google&lt;/a> 下载Windows版的压缩包；&lt;/li>
&lt;li>解压缩下载的压缩包到你习惯的文件夹（比如 &lt;code>C:\Users\YourName\Tools\PlatformTools\&lt;/code>）；&lt;/li>
&lt;li>将解压缩的文件夹添加到系统 &lt;code>Path&lt;/code> 环境变量。&lt;/li>
&lt;/ol>
&lt;h3 id="解锁-bootloader">解锁 bootloader
&lt;/h3>&lt;ol>
&lt;li>在 &lt;code>设置&amp;gt;我的设备&amp;gt;全部参数&lt;/code> 中点击3次MIUI版本，再点击3次MIUI版本，开启开发者模式；&lt;/li>
&lt;li>下载 &lt;a class="link" href="https://www.miui.com/unlock/index.html" target="_blank" rel="noopener"
>小米解锁工具&lt;/a>，确保账号有权限解锁；&lt;/li>
&lt;li>在 &lt;code>设置&amp;gt;更多设置&amp;gt;开发者选项&amp;gt;设备解锁状态&lt;/code> 中，插入SIM卡并绑定账号。具体步骤可以参考&lt;a class="link" href="https://www.xiaomi.cn/post/4378807" target="_blank" rel="noopener"
>小米社区&lt;/a>；&lt;/li>
&lt;li>在 &lt;code>设置&amp;gt;更多设置&amp;gt;开发者选项&amp;gt;USB调试&lt;/code> 中启用USB调试。&lt;/li>
&lt;li>下载 &lt;a class="link" href="http://www.miui.com/shuaji-393.html" target="_blank" rel="noopener"
>小米刷机工具&lt;/a> ，不用下载任何包，在 &lt;code>fastboot&lt;/code> 下解压运行后按提示安装驱动，然后这玩意就没用了；
&lt;blockquote>
&lt;p>似乎只有在 &lt;code>fastboot&lt;/code> 模式下用小米来装驱动才行，此前不知道怎么回事一直没驱动。&lt;/p>&lt;/blockquote>
&lt;/li>
&lt;li>在电脑终端内输入 &lt;code>adb shell reboot -p&lt;/code> ，手机弹窗允许调试点击“确定”，手机关机；&lt;/li>
&lt;li>关机状态下，按住 &lt;code>音量-&lt;/code> 再按 &lt;code>电源键&lt;/code> ，开机进入 fastboot；&lt;/li>
&lt;li>运行小米解锁工具，登录账户并确认解锁。&lt;/li>
&lt;/ol>
&lt;h2 id="刷入第三方-recovery">刷入第三方 Recovery
&lt;/h2>&lt;p>这里选择使用 &lt;a class="link" href="https://pitchblackrecovery.com/" target="_blank" rel="noopener"
>PitchBlack Recovery&lt;/a> &lt;del>因为好看&lt;/del>&lt;/p>
&lt;blockquote>
&lt;p>另请参阅：&lt;a class="link" href="https://pitchblackrecovery.com/docs/how-to-install/" target="_blank" rel="noopener"
>How to Install - PitchBlack Recovery Project&lt;/a>&lt;/p>&lt;/blockquote>
&lt;h3 id="准备">准备
&lt;/h3>&lt;ol>
&lt;li>确保你的设备已经解锁；&lt;/li>
&lt;li>确保PC端有 &lt;code>adb&lt;/code> 和 &lt;code>fastboot&lt;/code>；&lt;/li>
&lt;li>从 &lt;a class="link" href="https://pitchblackrecovery.com/santoni/" target="_blank" rel="noopener"
>PitchBlack Recovery&lt;/a> 下载适用于红米4X的 Recovery；&lt;/li>
&lt;li>从 &lt;a class="link" href="https://twrp.me/xiaomi/xiaomiredmi4x.html" target="_blank" rel="noopener"
>TeamWin Recovery&lt;/a> 翻到“Download Links:” 处，下载适用于红米4X的 Recovery。（我这边是欧洲的镜像比较快，自行选择）&lt;/li>
&lt;/ol>
&lt;h3 id="从twrp刷入pbrp">从TWRP刷入PBRP
&lt;/h3>&lt;p>因为以前是小米的 Recovery ，直接安装 PitchBlack 没有搞太明白，所以先刷入 TWRP。&lt;/p>
&lt;ol>
&lt;li>到下载TWEP的目录，在PC终端执行 &lt;code>fastboot boot twrp-&amp;lt;version&amp;gt;-santoni.img&lt;/code> ，从TWRP中启动；&lt;/li>
&lt;li>在手机进入TWRP后，点击 &lt;code>Wipe&amp;gt;Format Data&lt;/code> 并输入 &lt;code>yes&lt;/code> 后执行；&lt;/li>
&lt;li>点击 &lt;code>Back&lt;/code> 返回到主界面，点击 &lt;code>Advanced&amp;gt;ADB Sideload&lt;/code> 启动 ADB 旁加载；&lt;/li>
&lt;li>到下载PBRP的目录，从PC终端执行 &lt;code>adb sideload .\PBRP-santoni-&amp;lt;version&amp;gt;-OFFICIAL.zip &lt;/code>；&lt;/li>
&lt;li>手机终端出现 &lt;code>---Installation finished!---&lt;/code> 字样即为刷入完成；&lt;/li>
&lt;li>按下 &lt;code>音量-&lt;/code> 重启至 PitchBlack Recovery。&lt;/li>
&lt;/ol>
&lt;h2 id="编译-lineageos">编译 LineageOS
&lt;/h2>&lt;blockquote>
&lt;p>另请参阅：&lt;a class="link" href="https://wiki.lineageos.org/devices/santoni/build" target="_blank" rel="noopener"
>Build for santoni | LineageOS Wiki&lt;/a>&lt;/p>&lt;/blockquote>
&lt;h3 id="准备工作-1">准备工作
&lt;/h3>&lt;p>准备一台装有 64位的 &lt;strong>Ubuntu&lt;/strong> 20.04 （或Ubuntu Server 20.04）的电脑，可以考虑使用虚拟机或云服务器，为了避免麻烦，建议使用Ubuntu Server完成。编译的时间取决于性能。LineageOS官方的要求是200G存储空间，并且内存越小编译越慢。&lt;/p>
&lt;p>为了速度我就直接拿服务器编译了。&lt;/p>
&lt;blockquote>
&lt;p>DELL PowerEdge R620&lt;br>
Intel® Xeon® Processor E5-2670 v2 X2&lt;br>
MT DDR3 REG-ECC PC8500R 16GB X4&lt;br>
HGST 600GB 15K SAS X3 (Raid5)&lt;br>
Ubuntu server 20.04.02&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>Ubuntu 发行版的光盘可以从 &lt;a class="link" href="https://mirrors.tuna.tsinghua.edu.cn/ubuntu-cdimage/" target="_blank" rel="noopener"
>清华大学开源软件镜像站&lt;/a> 下载。&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>安装服务器过程略过，由于我在tty下使用所以语言选择了英语。&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>建议在安装时候配置国内源，比如清华源（&lt;code>https://mirrors.tuna.tsinghua.edu.cn/ubuntu/&lt;/code>）。&lt;/p>&lt;/blockquote>
&lt;h3 id="环境配置">环境配置
&lt;/h3>&lt;p>通过SSH连接上服务器之后就可以进一步进行环境的配置了（当然你在tty内配置也不是不行）。&lt;/p>
&lt;h4 id="安装platform-tools">安装platform Tools
&lt;/h4>&lt;ol>
&lt;li>【可能需要代理】使用 wget 下载 Linux 版的 platform Tools: &lt;code>wget https://dl.google.com/android/repository/platform-tools-latest-linux.zip&lt;/code>；&lt;/li>
&lt;li>使用 apt 安装 zip: &lt;code>apt install zip&lt;/code>；&lt;/li>
&lt;li>解压缩 platform Tools :&lt;code>unzip platform-tools_&amp;lt;version&amp;gt;-linux.zip&lt;/code>；&lt;/li>
&lt;li>编辑 &lt;code>~/.profile&lt;/code>，添加:
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># add Android SDK platform tools to path&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="p">[&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">d&lt;/span> &lt;span class="s2">&amp;#34;$HOME/platform-tools&amp;#34;&lt;/span> &lt;span class="p">]&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="n">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">PATH&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;$HOME/platform-tools:$PATH&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">fi&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>添加完成后运行 &lt;code>source ~/.profile&lt;/code> 更新环境。&lt;/li>
&lt;/ol>
&lt;h4 id="安装依赖">安装依赖
&lt;/h4>&lt;ol>
&lt;li>使用 apt 安装依赖: &lt;code>apt install zip bc bison build-essential ccache curl flex g++-multilib gcc-multilib git gnupg gperf imagemagick lib32ncurses5-dev lib32readline-dev lib32z1-dev liblz4-tool libncurses5 libncurses5-dev libsdl1.2-dev libssl-dev libxml2 libxml2-utils lzop pngcrush rsync schedtool squashfs-tools xsltproc zip zlib1g-dev&lt;/code>；
&lt;blockquote>
&lt;p>对于 Ubuntu 20.04 以前的操作系统来说，还需要安装 libwxgtk3.0-dev: &lt;code>apt install libwxgtk3.0-dev&lt;/code>&lt;/p>&lt;/blockquote>
&lt;/li>
&lt;li>如果希望构建 lineageOS 15，则需要安装OpenJDK8: &lt;code>apt install openjdk-8-jdk&lt;/code>&lt;/li>
&lt;/ol>
&lt;h4 id="创建目录">创建目录
&lt;/h4>&lt;ol>
&lt;li>&lt;code>mkdir -p ~/bin&lt;/code>；&lt;/li>
&lt;li>&lt;code>mkdir -p ~/android/lineage&lt;/code>。&lt;/li>
&lt;/ol>
&lt;h4 id="安装repo命令">安装repo命令
&lt;/h4>&lt;ol>
&lt;li>下载repo: &lt;code>curl https://storage.googleapis.com/git-repo-downloads/repo &amp;gt; ~/bin/repo&lt;/code>；&lt;/li>
&lt;li>更改权限: &lt;code>chmod a+x ~/bin/repo&lt;/code>；&lt;/li>
&lt;li>将 &lt;code>~/bin&lt;/code> 添加到环境变量，在 &lt;code>~/.profile&lt;/code> 中添加:
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"># set PATH so it includes user&amp;#39;s private bin if it exists
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">if [ -d &amp;#34;$HOME/bin&amp;#34; ] ; then
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> PATH=&amp;#34;$HOME/bin:$PATH&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">fi
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>运行 &lt;code>source ~/.profile&lt;/code> 更新环境。&lt;/li>
&lt;/ol>
&lt;h4 id="配置git">配置Git
&lt;/h4>&lt;ol>
&lt;li>使用 &lt;code>apt install git&lt;/code> 安装 Git；&lt;/li>
&lt;li>配置你的邮箱和用户名：
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">git config --global user.email &amp;#34;you@example.com&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git config --global user.name &amp;#34;Your Name&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ol>
&lt;h4 id="开启缓存">开启缓存
&lt;/h4>&lt;blockquote>
&lt;p>开启缓存可以加快构建&lt;/p>&lt;/blockquote>
&lt;ol>
&lt;li>设置环境变量
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="k">export&lt;/span> &lt;span class="n">USE_CCACHE&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">export&lt;/span> &lt;span class="n">CCACHE_EXEC&lt;/span>&lt;span class="o">=/&lt;/span>&lt;span class="n">usr&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">bin&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">ccache&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>设置ccache，编辑&lt;code>~/.profile&lt;/code>，加入:
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">ccache -M 32G
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>使用&lt;code>source ~/.profile&lt;/code> 使配置生效&lt;/li>
&lt;/ol>
&lt;h4 id="配置lineageos仓库">配置LineageOS仓库
&lt;/h4>&lt;p>红米4X可以选择如下两个分支：&lt;/p>
&lt;ul>
&lt;li>lineage-15.1(需要OpenJDK-8)&lt;/li>
&lt;li>lineage-16.0&lt;/li>
&lt;/ul>
&lt;ol>
&lt;li>进入目录: &lt;code>cd ~/android/lineage&lt;/code>；&lt;/li>
&lt;li>安装python（由于Ubuntu自带python，安装 &lt;code>python-is-python3&lt;/code>）即可；&lt;/li>
&lt;li>【可能需要代理】初始化项目: &lt;code>repo init -u https://github.com/LineageOS/android.git -b lineage-&amp;lt;version&amp;gt;&lt;/code>
&lt;blockquote>
&lt;p>如果无法下载可以考虑添加环境变量 &lt;code>REPO_URL=https://github.com/GerritCodeReview/git-repo&lt;/code>；&lt;/p>&lt;/blockquote>
&lt;/li>
&lt;li>【可能需要代理】使用 &lt;code>repo sync&lt;/code> 下载源代码；
&lt;blockquote>
&lt;p>这步好艰难&amp;hellip;要下很长时间&lt;/p>&lt;/blockquote>
&lt;/li>
&lt;/ol>
&lt;h4 id="配置设备相关">配置设备相关
&lt;/h4>&lt;p>输入&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">source build/envsetup.sh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">breakfast santoni
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>下载红米4X(santoni)的配置文件和内核。&lt;/p>
&lt;blockquote>
&lt;p>部分机型需要一个vendor目录。如果你收到了一个关于vendor的错误，到 &lt;a class="link" href="https://gitlab.com/the-muppets/proprietary_vendor_xiaomi/-/tree/lineage-16.0/santoni" target="_blank" rel="noopener"
>GitLab&lt;/a> 下载。放入 &lt;code>~/android/lineageos/vendor/xiaomi&lt;/code> 后，再次执行 &lt;code>breakfast santoni&lt;/code> 即可。
经尝试上述方法在后来引起了错误，所以参考官方文档，从LineageOS的包里导出该文件，首先下载 &lt;a class="link" href="https://lineageosroms.com/santoni/" target="_blank" rel="noopener"
>LineageOS 16.0 for santoni&lt;/a> （这个包的来历我也不知道，应该是以前镜像的官方build），使用 &lt;code>unzip path/to/lineage-*.zip system/*&lt;/code> 解压，并将 &lt;code>system&lt;/code> 目录移动到 &lt;code>~/android/system_dump/&lt;/code>，到 &lt;code>~/android/lineage/device/xiaomi/santoni&lt;/code> 目录执行 &lt;code>./extract-files.sh ~/android/system_dump/&lt;/code> 导出。&lt;/p>&lt;/blockquote>
&lt;h4 id="编译lineageos">编译LineageOS
&lt;/h4>&lt;p>执行&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">croot
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">brunch santoni
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>报错&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">ninja: error: &amp;#39;/home/nidb/android/lineageos/out/target/common/obj/JAVA_LIBRARIES/WfdCommon_intermediates/javalib.jar&amp;#39;, needed by &amp;#39;/home/nidb/android/lineageos/out/target/product/santoni/dex_bootjars/system/framework/boot.prof&amp;#39;, missing and no known rule to make it
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>很是绝望。参考 &lt;a class="link" href="https://stackoverflow.com/questions/54946271" target="_blank" rel="noopener"
>StackOverflow&lt;/a> 发现或许是缺了 Wfd，在Github找到&lt;a class="link" href="https://github.com/bionicBUG/android_device_xiaomi_santoni/tree/los16" target="_blank" rel="noopener"
>这个仓库&lt;/a> ，克隆该项目替换，没有作用。&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>考虑使用 &lt;code>make&lt;/code> 直接编译，因为脚本中含有 python2，所以卸载 &lt;code>python-is-python3&lt;/code> ，然后 &lt;code>apt install python2&lt;/code>；&lt;br>
尝试使用 &lt;code>lunch&lt;/code> ,&lt;code>make -j10&lt;/code> 。&lt;br>
报错 &lt;code>ninja: error: 'prebuilts/lineage-sdk/api/9.txt'&lt;/code>，参考 &lt;a class="link" href="https://forum.xda-developers.com/t/help-by-building-lineageos-16.3887273/" target="_blank" rel="noopener"
>XDA&lt;/a> 克隆 &lt;code>https://github.com/LineageOS/android_prebuilts_lineage-sdk&lt;/code> 到 &lt;code>prebuilts&lt;/code> 解决。&lt;br>
编译到一大半报错 &lt;code>ninja: build stopped: subcommand failed.&lt;/code> 原因是被Linux系统限制，使用 &lt;code>ulimit -c unlimited&lt;/code> 解除。&lt;/p>&lt;/blockquote></description></item><item><title>【过期内容】Adobe Premiere 导入 mkv 格式的视频</title><link>https://blog.gaein.cn/passages/import-hevc-for-old-adobe-premiere/</link><pubDate>Wed, 12 May 2021 22:32:26 +0800</pubDate><guid>https://blog.gaein.cn/passages/import-hevc-for-old-adobe-premiere/</guid><description>&lt;blockquote>
&lt;p>注意：此内容已过期。Adobe Premiere 不能导入的本质原因的 PR 2020 前的版本不支持 HEVC/H.265 编码。旧版本使用 ffmpeg 进行转码即可正常使用，新版本没有此问题。&lt;br>
有关视频编码、容器、格式等见：&lt;a class="link" href="https://blog.gaein.cn/passages/live-streaming-protocols/" target="_blank" rel="noopener"
>直播推流常见协议及网页端实现 RTMP/STR/FLV/HLS/WebRTC&lt;/a>&lt;br>
此文章内所述较为片面。&lt;/p>&lt;/blockquote>
&lt;h2 id="mkv">mkv
&lt;/h2>&lt;p>mkv格式本身是一个“容器”，它包括了视频、音频、章节等，其实，不需要转码，只需要把需要的视频和音频“拆”出来即可。&lt;/p>
&lt;h2 id="工具">工具
&lt;/h2>&lt;h3 id="mkvtoolnix">MKVToolNix
&lt;/h3>&lt;p>该工具用于操作mkv文件（虽然我们只需要其中的解包部分）&lt;/p>
&lt;ul>
&lt;li>官网：https://mkvtoolnix.download/&lt;/li>
&lt;li>Windows下载：https://www.fosshub.com/MKVToolNix.html&lt;/li>
&lt;/ul>
&lt;h3 id="mkvextractgui2">MKVExtractGUI2
&lt;/h3>&lt;p>图形化界面的解包mkv的程序，需要放置在 MKVToolNix 的根目录下。&lt;/p>
&lt;p>目录结构如下：&lt;/p>
&lt;p>&lt;img src="https://img.cdn.gaein.cn/website_used/blog/AdobePr-import-mkv/01.webp"
loading="lazy"
alt="Dir"
>&lt;/p>
&lt;ul>
&lt;li>sourceforge：https://sourceforge.net/projects/mkvextractgui-2/&lt;/li>
&lt;/ul>
&lt;h2 id="提取音视频">提取音视频
&lt;/h2>&lt;p>可以直接双击点开 &lt;code>MKVExtractGUI2&lt;/code> ，选择 &lt;code>input&lt;/code> ，下面的框中将显示出来 Tracks，选择需要的然后导出即可。&lt;/p>
&lt;blockquote>
&lt;p>可惜我的并不能用，它什么也不显示，只能手动来一波了。&lt;/p>&lt;/blockquote>
&lt;h2 id="提取音视频命令行">提取音视频（命令行）
&lt;/h2>&lt;p>实际上 MKVExtractGUI2 也是调用的 MKVToolNix 命令行来提取的，而 MKVToolNix 的图形化又比较复杂，不会用。直接使用命令行甚至会方便一些。&lt;/p>
&lt;p>在当前目录打开 powershell 后，输入：&lt;/p>
&lt;p>&lt;code>.\mkvinfo.exe &amp;quot;&amp;lt;mkv文件路径&amp;gt;&amp;quot;&lt;/code> ，比如我这个是 &lt;code>.\mkvinfo.exe &amp;quot;C:\Users\Gaein_nidb\Videos\High School Fleet [01].mkv&amp;quot;&lt;/code>&lt;/p>
&lt;p>&lt;img src="https://img.cdn.gaein.cn/website_used/blog/AdobePr-import-mkv/02.webp"
loading="lazy"
alt="Output"
>&lt;/p>
&lt;p>以VCB-S压制的 High School Fleet/高校舰队 为例，程序会输出一大坨mkv的信息，我们需要关注的为 &lt;code>Tracks&lt;/code> ，其中的每一个 &lt;code>Track&lt;/code> 为一条轨道，其中包括：&lt;/p>
&lt;ul>
&lt;li>&lt;code>Track number&lt;/code>：轨道ID（在mkvextract工具中轨道ID从0开始）&lt;/li>
&lt;li>&lt;code>Track type&lt;/code>：轨道的类型（视频或音频等）&lt;/li>
&lt;li>&lt;code>Codec ID&lt;/code>：编码ID&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>以上均用 &amp;ldquo;//&amp;rdquo; 做了伪注释&lt;/p>&lt;/blockquote>
&lt;p>以及一些其它重要信息&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">|+ Tracks
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| + Track // 第一条轨道
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| + Track number: 1 (track ID for mkvmerge &amp;amp; mkvextract: 0) // 在mkvextract工具中轨道ID为0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| + Track UID: 16171542915234837125
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| + Track type: video // 视频
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| + &amp;#34;Lacing&amp;#34; flag: 0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| + Minimum cache: 1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| + Codec ID: V_MPEGH/ISO/HEVC // 格式为HEVC
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| + Language: und
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| + Video track
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| + Pixel width: 1920
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| + Pixel height: 1080
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| + Display width: 1920
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| + Display height: 1080
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| + Codec&amp;#39;s private data: size 1151 (HEVC profile: Main 10 @L4.1)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| + Default duration: 00:00:00.041708333 (23.976 frames/fields per second for a video track)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| + Track // 第二条轨道
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| + Track number: 2 (track ID for mkvmerge &amp;amp; mkvextract: 1) // ID为1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| + Track UID: 11899936184913956278
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| + Track type: audio // 音频
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| + Codec ID: A_FLAC // 格式为flac
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| + Codec&amp;#39;s private data: size 113
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| + Default duration: 00:00:00.085333333 (11.719 frames/fields per second for a video track)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| + Language: jpn
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| + Audio track
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| + Sampling frequency: 48000
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| + Channels: 2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| + Bit depth: 24
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| + Track // 第三条轨道
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| + Track number: 3 (track ID for mkvmerge &amp;amp; mkvextract: 2) // ID为2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| + Track UID: 10563629169812897935
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| + Track type: audio // 音频
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| + &amp;#34;Default track&amp;#34; flag: 0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| + Codec ID: A_AAC // 格式为ACC
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| + Codec&amp;#39;s private data: size 2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| + Default duration: 00:00:00.021333333 (46.875 frames/fields per second for a video track)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| + Language: jpn
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| + Audio track
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| + Sampling frequency: 48000
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| + Channels: 2
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>那么我们需要提取的有：&lt;/p>
&lt;ol>
&lt;li>HEVC视频，轨道0&lt;/li>
&lt;li>FLAC音频，轨道1&lt;/li>
&lt;/ol>
&lt;p>当然你想要ACC不要FLAC也行，咋都行，看需求而来&lt;/p>
&lt;p>使用 &lt;code>mkvextract&lt;/code> 工具来解mkv文件，输入命令：&lt;/p>
&lt;p>&lt;code>.\mkvextract.exe &amp;quot;&amp;lt;mkv文件&amp;gt;&amp;quot; tracks 0:video.hevc 1:audio.flac&lt;/code>&lt;/p>
&lt;p>其中，tracks后面的参数为 &lt;code>&amp;lt;轨道ID&amp;gt;:&amp;lt;输出文件&amp;gt;&lt;/code> ，根据你想解的轨道，输入上面看信息看到的轨道ID即可。&lt;/p>
&lt;p>然后，在这个文件夹中，我们得到了 &lt;code>video.hevc&lt;/code> 和 &lt;code>audio.flac&lt;/code> 两个文件。&lt;/p>
&lt;h2 id="导入pr">导入PR
&lt;/h2>&lt;p>尽管我们已经解开了，但是仍然不能导入，PR会说不支持的文件格式。&lt;/p>
&lt;p>&lt;del>对于视频来说，解决的方法很简单：更改后缀名为PR能识别的，比如 &lt;code>mp4&lt;/code>&lt;/del>&lt;/p>
&lt;p>&lt;del>对于flac音频来说：更改后缀名为 &lt;code>wav&lt;/code>&lt;/del>&lt;/p>
&lt;p>请使用 ffmpeg 或其他工具进行 re-mux 或 re-enc&lt;/p></description></item><item><title>Windows下CLion配置SDL2开发环境</title><link>https://blog.gaein.cn/passages/config-sdl2-on-clion-win/</link><pubDate>Wed, 16 Dec 2020 23:51:22 +0800</pubDate><guid>https://blog.gaein.cn/passages/config-sdl2-on-clion-win/</guid><description>&lt;p>SDL（Simple DirectMedia Layer）是一套开放源代码的跨平台多媒体开发库，使用 C 语言写成。SDL 提供了数种控制图像、声音、输出入的函数。简单易用。这篇文章介绍一下我在 Windows 下 CLion 配置 SDL2 开发环境的方法。&lt;/p>
&lt;blockquote>
&lt;p>配 SDL2 还是由于大一的 C 语言程序设计课设。由于我始终不愿意使用 EasyX，却由于 GLFW 太过复杂而担心无法完成作业&lt;/p>
&lt;p>&lt;del>其实我的担心是多余的，以我的实力，根本不用担心，就是完不成&lt;/del>&lt;/p>
&lt;p>所以采用了学 &lt;del>姐&lt;/del> 长 &lt;a class="link" href="https://mzdluo123.github.io/" target="_blank" rel="noopener"
>@HelloWorld&lt;/a> 的建议，使用了 SDL。不过配置的过程中遇到了很多问题，在这里记录并分享一下。&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>环境：&lt;/p>
&lt;ol>
&lt;li>CLion 2020.3 Build 203.5981.166&lt;/li>
&lt;li>Windows10 20H2 19042.685&lt;/li>
&lt;li>MinGW-w64 GCC 8.1.0(x86_64-posix-seh-rev0)&lt;/li>
&lt;li>SDL2-2.0.12 [DEV]&lt;/li>
&lt;/ol>&lt;/blockquote>
&lt;h2 id="sdl2-配置">SDL2 配置
&lt;/h2>&lt;h3 id="下载-sdl2">下载 SDL2
&lt;/h3>&lt;ol>
&lt;li>
&lt;p>打开 SDL 官网的下载页 &lt;a class="link" href="https://www.libsdl.org/download-2.0.php" target="_blank" rel="noopener"
>LibSDL.org&lt;/a>
&lt;img src="https://img.cdn.gaein.cn/website_used/blog/Config-SDL2-On-CLion-Win/01.webp"
loading="lazy"
alt="下载"
>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>下载 &amp;ldquo;Development Libraries&amp;rdquo; (开发版)中的 &amp;ldquo;Windows&amp;rdquo;-&amp;gt;&amp;ldquo;MinGW 32/64-bit&amp;rdquo;&lt;br>
我下载的是&lt;a class="link" href="https://www.libsdl.org/release/SDL2-devel-2.0.12-mingw.tar.gz" target="_blank" rel="noopener"
>&amp;ldquo;SDL2-devel-2.0.12-mingw.tar.gz&amp;rdquo;&lt;/a>&lt;br>
(注：此链接不确保时效性，请去官网下载最新版本)&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h3 id="配置-sdl2">配置 SDL2
&lt;/h3>&lt;ol>
&lt;li>解压缩下载的 &amp;ldquo;SDL2-devel-2.0.12-mingw.tar.gz&amp;rdquo; ，将 &amp;ldquo;x86_64-w64-mingw32&amp;rdquo; 中的所有文件复制到你 MinGW-w64 的目录中。&lt;br>
如果你的 MinGW 是 i686 则复制&amp;quot;i686-w64-mingw32&amp;quot;中的所有文件。
(注：在终端中使用 &lt;code>gcc -v&lt;/code> 可以查看到 MinGW-w64 的版本)
&lt;img src="https://img.cdn.gaein.cn/website_used/blog/Config-SDL2-On-CLion-Win/02.webp"
loading="lazy"
alt="解压"
>
&lt;img src="https://img.cdn.gaein.cn/website_used/blog/Config-SDL2-On-CLion-Win/03.webp"
loading="lazy"
alt="复制"
>
&lt;img src="https://img.cdn.gaein.cn/website_used/blog/Config-SDL2-On-CLion-Win/04.webp"
loading="lazy"
alt="粘贴"
>&lt;/li>
&lt;li>在项目目录下新建一个文件夹&amp;quot;SDL&amp;quot;，将&amp;quot;include&amp;quot;中的&amp;quot;SDL2&amp;quot;，复制到项目目录下&amp;quot;SDL&amp;quot;文件夹中
&lt;img src="https://img.cdn.gaein.cn/website_used/blog/Config-SDL2-On-CLion-Win/05.webp"
loading="lazy"
alt="SDL2"
>&lt;/li>
&lt;/ol>
&lt;h2 id="cmake-配置">CMake 配置
&lt;/h2>&lt;h3 id="新建">新建
&lt;/h3>&lt;p>在 CLion 中点&amp;quot;文件&amp;quot;-&amp;gt;&amp;ldquo;新建项目&amp;rdquo;，选择 C++(C 也可以)
&lt;img src="https://img.cdn.gaein.cn/website_used/blog/Config-SDL2-On-CLion-Win/06.webp"
loading="lazy"
alt="新建"
>&lt;/p>
&lt;h4 id="配置">配置
&lt;/h4>&lt;p>将&amp;quot;CMakeLists.txt&amp;quot;按照如下内容修改：&lt;br>
(注：文件的内容根据你的项目决定，一般来说不用修改默认生成的)
&lt;img src="https://img.cdn.gaein.cn/website_used/blog/Config-SDL2-On-CLion-Win/07.webp"
loading="lazy"
alt="库"
>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cmake" data-lang="cmake">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># 设置CMake需要的版本
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>&lt;span class="nb">cmake_minimum_required&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">VERSION&lt;/span> &lt;span class="s">3.17&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># 设置项目名称
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>&lt;span class="nb">project&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">SDL2_Test&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># 设置C++版本
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>&lt;span class="nb">set&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">CMAKE_CXX_STANDARD&lt;/span> &lt;span class="s">20&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># 设置includePath
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>&lt;span class="nb">include_directories&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">SDL&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># 生成文件
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>&lt;span class="nb">add_executable&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">SDL2_Test&lt;/span> &lt;span class="s">main.cpp&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># 链接库
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>&lt;span class="nb">target_link_libraries&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">SDL2_Test&lt;/span> &lt;span class="s">mingw32&lt;/span> &lt;span class="s">SDL2main&lt;/span> &lt;span class="s">SDL2&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://img.cdn.gaein.cn/website_used/blog/Config-SDL2-On-CLion-Win/08.webp"
loading="lazy"
alt="完成"
>&lt;/p>
&lt;h2 id="测试">测试
&lt;/h2>&lt;p>在 &amp;ldquo;main.cpp&amp;rdquo; 中写入如下内容：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;#34;SDL2/SDL.h&amp;#34;&lt;/span>&lt;span class="cp">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">argc&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">char&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">argv&lt;/span>&lt;span class="p">[])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// 初始化SDL
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">SDL_Init&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">SDL_INIT_VIDEO&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// 创建SDL窗口指针
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">SDL_Window&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">window&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">SDL_CreateWindow&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;SDL2Test&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">SDL_WINDOWPOS_UNDEFINED&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">SDL_WINDOWPOS_UNDEFINED&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mi">640&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mi">480&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// 创建渲染器
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">SDL_Renderer&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">renderer&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">SDL_CreateRenderer&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">window&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">SDL_RENDERER_SOFTWARE&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// 设置渲染器
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">SDL_SetRenderDrawColor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">renderer&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">SDL_ALPHA_OPAQUE&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">SDL_RenderClear&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">renderer&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// 渲染
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">SDL_RenderPresent&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">renderer&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// 等待3000ms
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">SDL_Delay&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3000&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// 销毁窗口&amp;amp;退出
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">SDL_DestroyWindow&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">window&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">SDL_Quit&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://img.cdn.gaein.cn/website_used/blog/Config-SDL2-On-CLion-Win/09.webp"
loading="lazy"
alt="源代码"
>&lt;/p>
&lt;p>&lt;img src="https://img.cdn.gaein.cn/website_used/blog/Config-SDL2-On-CLion-Win/10.webp"
loading="lazy"
alt="结果"
>&lt;/p>
&lt;p>点击右上角的三角运行，如果出现&lt;/p>
&lt;ol>
&lt;li>无法找到头文件：检查是否复制&amp;quot;include&amp;quot;和设置&amp;quot;include_directories(SDL)&amp;quot;&lt;/li>
&lt;li>找不到WinMain：检查是否复制库。或者尝试调换&amp;quot;target_link_libraries(SDL2_Test mingw32 SDL2main SDL2)&amp;ldquo;中库的顺序&lt;/li>
&lt;/ol>
&lt;h2 id="说明">说明
&lt;/h2>&lt;ol>
&lt;li>有些同学可能很迷惑：为什么要把SDL扔进MinGW-w64的目录里面呢？因为我在外面的目录尝试的时候各种报错，后来看了 &lt;a class="link" href="https://blog.csdn.net/ronaldinho2014/article/details/104835426" target="_blank" rel="noopener"
>CSDN:CLion配置SDL2开发环境（Windows系统）&lt;/a>。貌似把SDL扔进mingw目录就能解决。具体原因还有待深究。&lt;/li>
&lt;li>其它方法：使用vcpkg可以安装，也可以使用CMake模块：
&lt;ol>
&lt;li>&lt;a class="link" href="https://github.com/tcbrindle/sdl2-cmake-scripts" target="_blank" rel="noopener"
>GitHub:SDL2-CMake-Scripts&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/binary132/cmake-sdl" target="_blank" rel="noopener"
>GitHub:CMake-SDL&lt;/a>&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;p>参考：&lt;/p>
&lt;ol>
&lt;li>&lt;a class="link" href="https://wiki.libsdl.org/" target="_blank" rel="noopener"
>SDL官网:SDL-WIKI&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://trenki2.github.io/blog/2017/06/02/using-sdl2-with-cmake/" target="_blank" rel="noopener"
>Trenki&amp;rsquo;s Dev Blog:Using SDL2 with CMake&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://intellij-support.jetbrains.com/hc/en-us/community/posts/360006864999-Configuring-SDL2-with-Clion" target="_blank" rel="noopener"
>JetBrains-Community:Configuring SDL2 with CLion&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://adolfans.github.io/sdltutorialcn/" target="_blank" rel="noopener"
>adolfans:SDL中文教程&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://blog.csdn.net/ronaldinho2014/article/details/104835426" target="_blank" rel="noopener"
>CSDN:CLion配置SDL2开发环境（Windows系统）&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://cmake.org/cmake/help/latest/module/FindSDL.html" target="_blank" rel="noopener"
>CMake:FindSDL&lt;/a>&lt;/li>
&lt;/ol></description></item><item><title>个性化你的 Windows Terminal 终端与 PowerShell</title><link>https://blog.gaein.cn/passages/windows-terminal-usage/</link><pubDate>Mon, 09 Nov 2020 01:43:18 +0800</pubDate><guid>https://blog.gaein.cn/passages/windows-terminal-usage/</guid><description>&lt;h2 id="前言">前言
&lt;/h2>&lt;blockquote>
&lt;p>总感觉 cmd、PowerShell 太丑。以前折腾过一阵子的 cmder 感觉也就一般。听学姐们吹了挺长时间的 Windows Terminal。今天试一下，确实效果非常好，美观好用。不得不说&lt;del>巨硬&lt;/del>Micro$oft 正经去做某个东西还是非常好的。&lt;/p>&lt;/blockquote>
&lt;p>2022年11月9日更新如下：&lt;/p>
&lt;blockquote>
&lt;ul>
&lt;li>修改名称 “Powershell 7” 为 “Powershell”，“Powershell 5” 为 “Windows Powershell”；&lt;/li>
&lt;li>修改部分失效的配置&lt;/li>
&lt;li>修改安装方式等&lt;/li>
&lt;/ul>&lt;/blockquote>
&lt;p>（其实还改了很多，毕竟已经两年过去了）&lt;/p>
&lt;h2 id="安装">安装
&lt;/h2>&lt;p>这次主要有以下几个目的：&lt;/p>
&lt;ol>
&lt;li>使用 PowerShell 代替系统自带的 Windows PowerShell；&lt;/li>
&lt;li>优化 PowerShell 字体、配色等；&lt;/li>
&lt;li>在 Windows Terminal 里面添加 python 控制台；&lt;/li>
&lt;li>合并 PowerShell、Git Bash、cmd 和 python 到 Windows Terminal 中，并取消其它的右键菜单，为 Windows Terminal 添加右键菜单。&lt;/li>
&lt;/ol>
&lt;blockquote>
&lt;p>可参阅： &lt;a class="link" href="https://docs.microsoft.com/en-us/windows/terminal/customize-settings/startup" target="_blank" rel="noopener"
>Windows Terminal Startup Settings | Microsoft Docs&lt;/a>&lt;/p>&lt;/blockquote>
&lt;h3 id="windows-terminal">Windows Terminal
&lt;/h3>&lt;h4 id="windows-terminal-简介">Windows Terminal 简介
&lt;/h4>&lt;p>是一款新式、快速、高效且强大的终端应用程序。通过它可以使用命令提示符、PowerShell、WSL 等诸多 shell。Windows Terminal 支持多选项卡、窗格、Unicode 和 GPU 加速文本渲染引擎，同时也支持丰富多彩的用户自定义主题。&lt;/p>
&lt;p>&lt;img src="https://img.cdn.gaein.cn/website_used/blog/Windows-Terminal-Usage/01.webp"
loading="lazy"
alt="wt宣传片"
>&lt;/p>
&lt;h4 id="安装-windows-terminal">安装 Windows Terminal
&lt;/h4>&lt;p>可以使用多种方式安装：&lt;/p>
&lt;p>包管理器 &lt;code>winget&lt;/code> 和 &lt;code>scoop&lt;/code> 等均有 windows terminal 的包，Windows 11 自带 Windows Terminal（中文版显示为“终端”）。&lt;/p>
&lt;p>应用商店：&lt;/p>
&lt;ol>
&lt;li>打开系统的 Microsoft Store；&lt;/li>
&lt;li>搜索&amp;quot;Windows Terminal&amp;quot;；
&lt;img src="https://img.cdn.gaein.cn/website_used/blog/Windows-Terminal-Usage/02.webp"
loading="lazy"
alt="商店界面"
>&lt;/li>
&lt;li>点击&amp;quot;安装&amp;quot;。&lt;/li>
&lt;/ol>
&lt;blockquote>
&lt;p>由于网络环境不同等待时间也可能不一样
&lt;del>在未来某个版本的Windows会默认安装Windows Terminal，但是是几百年后就不知道了（x&lt;/del> Windows 11 已经预装。&lt;/p>&lt;/blockquote>
&lt;p>菜单里出现 Windows Terminal，打开后如图所示即为安装完成。&lt;/p>
&lt;p>&lt;img src="https://img.cdn.gaein.cn/website_used/blog/Windows-Terminal-Usage/03.webp"
loading="lazy"
alt="WT打开"
>&lt;/p>
&lt;h4 id="powershell">PowerShell
&lt;/h4>&lt;p>所以 Powershell 和 Windows Powershell 有啥不同？&lt;/p>
&lt;h5 id="powershell-简介">Powershell 简介
&lt;/h5>&lt;p>最初，Windows PowerShell 是在 .NET Framework 基础之上构建而成，仅适用于 Windows 系统。 在最新版本中，PowerShell 使用 .NET Core 3.1 作为运行时。 PowerShell 在 Windows、macOS 和 Linux 平台上运行。
新的 PowerShell 拥有更高的效率和诸多优点。
PowerShell Core 是 &lt;a class="link" href="https://github.com/PowerShell/PowerShell" target="_blank" rel="noopener"
>GitHub&lt;/a> 上面的开源项目，使用 MIT 许可证。&lt;/p>
&lt;h5 id="安装-powershell">安装 Powershell
&lt;/h5>&lt;blockquote>
&lt;p>官方有详细的安装文档，见 &lt;a class="link" href="https://docs.microsoft.com/zh-cn/powershell/scripting/install/installing-powershell" target="_blank" rel="noopener"
>Microsoft DOCS&lt;/a>&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>建议参考官方文档选择适合自己的方式安装，我目前系统中的WT是作为dotnet CLI 全局工具安装的&lt;/p>&lt;/blockquote>
&lt;p>我使用下载-安装的方式而没有使用包管理器。&lt;/p>
&lt;ol>
&lt;li>
&lt;p>从&lt;a class="link" href="https://github.com/PowerShell/PowerShell/releases/" target="_blank" rel="noopener"
>GitHub 的 Release&lt;/a>中下载&lt;code>PowerShell-7.1.0-win-x64.msi&lt;/code>；
&lt;img src="https://img.cdn.gaein.cn/website_used/blog/Windows-Terminal-Usage/04.webp"
loading="lazy"
alt="Release页面"
>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>下载完成后找到下载的文件夹，双击运行；&lt;/p>
&lt;blockquote>
&lt;p>如果提示 “不是有效的 WIN32 应用程序” 请返回刚才的 Release 页面下载&lt;code>PowerShell-7.1.0-win-x86.msi&lt;/code>&lt;/p>&lt;/blockquote>
&lt;/li>
&lt;li>
&lt;p>一直点击&amp;quot;Next&amp;quot;，直到安装完成，点击&amp;quot;Finish&amp;quot;。
&lt;img src="https://img.cdn.gaein.cn/website_used/blog/Windows-Terminal-Usage/05.webp"
loading="lazy"
alt="安装PSCore"
>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h4 id="配置-powershell-core">配置 PowerShell Core
&lt;/h4>&lt;h5 id="准备">准备
&lt;/h5>&lt;h6 id="安装模块">安装模块
&lt;/h6>&lt;p>打开 PowerShell 7，输入以下命令：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-ps" data-lang="ps">&lt;span class="line">&lt;span class="cl">&lt;span class="nf">Install-Module&lt;/span> &lt;span class="nf">posh-git&lt;/span> &lt;span class="nf">-Scope&lt;/span> &lt;span class="nf">CurrentUser&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-ps" data-lang="ps">&lt;span class="line">&lt;span class="cl">&lt;span class="nf">Install-Module&lt;/span> &lt;span class="nf">oh-my-posh&lt;/span> &lt;span class="nf">-Scope&lt;/span> &lt;span class="nf">CurrentUser&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>先输入一个命令，光标会移动到下一行的最左侧。这时候不要着急输入另一个，稍等一会如果出现提示那么就按&lt;code>Y&lt;/code>。安装完成（左侧有显示&amp;quot;PS xxx&amp;quot;字样）再安装另外一个。两个不分先后。&lt;/p>&lt;/blockquote>
&lt;h6 id="安装-powerline-字体">安装 PowerLine 字体
&lt;/h6>&lt;p>这一部分微软官方文档有写，详见 &lt;a class="link" href="https://docs.microsoft.com/zh-cn/windows/terminal/tutorials/powerline-setup" target="_blank" rel="noopener"
>Microsoft Docs&lt;/a>&lt;/p>
&lt;ol>
&lt;li>
&lt;p>打开 Cascadia Code &lt;a class="link" href="https://github.com/microsoft/cascadia-code/releases" target="_blank" rel="noopener"
>GitHub 发布页&lt;/a>，下载最新的 Release &lt;code>CascadiaCode-2009.22.zip&lt;/code>；&lt;/p>
&lt;/li>
&lt;li>
&lt;p>下载完成后解压文件，进入&lt;code>解压后的文件夹-&amp;gt;ttf&lt;/code>，双击里面&lt;code>.ttf&lt;/code>结尾的文件，安装。&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h6 id="配置">配置
&lt;/h6>&lt;ol>
&lt;li>
&lt;p>从菜单栏打开安装好的 PowerShell 7。如果电脑安装有 Visual Studio Code 的话在里面输入以下内容：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-ps" data-lang="ps">&lt;span class="line">&lt;span class="cl">&lt;span class="nf">code&lt;/span> &lt;span class="nf">$profile&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://img.cdn.gaein.cn/website_used/blog/Windows-Terminal-Usage/06.webp"
loading="lazy"
alt="code效果"
>
如果你没有安装或者不知道什么是 Visual Studio Code 的话输入以下内容：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-ps" data-lang="ps">&lt;span class="line">&lt;span class="cl">&lt;span class="nf">notepad&lt;/span> &lt;span class="nf">$profile&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://img.cdn.gaein.cn/website_used/blog/Windows-Terminal-Usage/07.webp"
loading="lazy"
alt="notepad效果"
>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>输入完成后按下回车，VSCode（或记事本）将会打开一个文件（可能是空的），在里面输入以下内容后保存&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-ps" data-lang="ps">&lt;span class="line">&lt;span class="cl">&lt;span class="nf">#&lt;/span> &lt;span class="nf">by&lt;/span> &lt;span class="nf">Gaein&lt;/span> &lt;span class="nf">nidb&lt;/span> &lt;span class="nf">,&lt;/span> &lt;span class="nf">https:&lt;/span>&lt;span class="err">/&lt;/span>&lt;span class="nv">/www.Gaein.cn&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">Clear-Host&lt;/span> &lt;span class="nf">#&lt;/span> &lt;span class="nf">清除屏幕&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">$time&lt;/span> &lt;span class="nf">=&lt;/span> &lt;span class="nf">Get-date&lt;/span> &lt;span class="nf">-Format&lt;/span> &lt;span class="nf">&amp;#34;现在是yyyy年MM月dd日&lt;/span> &lt;span class="nf">HH时mm分&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">$path&lt;/span> &lt;span class="nf">=&lt;/span> &lt;span class="nf">$pwd.path&lt;/span> &lt;span class="nf">#&lt;/span> &lt;span class="nf">获取路径&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">if&lt;/span> &lt;span class="s">( $path.split(&amp;#34;&lt;/span>&lt;span class="se">\&lt;/span>&lt;span class="s">&amp;#34;)[-1] -eq &amp;#34;Windows&amp;#34; -xor $path.split(&amp;#34;&lt;/span>&lt;span class="se">\&lt;/span>&lt;span class="s">&amp;#34;)[-1] -eq &amp;#34;System32&amp;#34;)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">##&lt;/span> &lt;span class="nf">默认路径为桌面&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">$desktop&lt;/span> &lt;span class="nf">=&lt;/span> &lt;span class="nf">&amp;#34;C:\Users\&amp;#34;&lt;/span> &lt;span class="nf">+&lt;/span> &lt;span class="nf">$env:UserName&lt;/span> &lt;span class="nf">+&lt;/span> &lt;span class="nf">&amp;#34;\Desktop\&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">##&lt;/span> &lt;span class="nf">切换到桌面&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">Set-Location&lt;/span> &lt;span class="nf">$desktop&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">Write-Output&lt;/span> &lt;span class="nf">$time&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">$motdPath&lt;/span> &lt;span class="nf">=&lt;/span> &lt;span class="nf">&amp;#34;C:\Users\&amp;#34;&lt;/span> &lt;span class="nf">+&lt;/span> &lt;span class="nf">$env:UserName&lt;/span> &lt;span class="nf">+&lt;/span> &lt;span class="nf">&amp;#34;\Documents\PowerShell\motd.txt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">Get-Content&lt;/span> &lt;span class="nf">$motdPath&lt;/span> &lt;span class="nf">#&lt;/span> &lt;span class="nf">欢迎消息&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">#&lt;/span> &lt;span class="nf">导入模块&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">Import-Module&lt;/span> &lt;span class="nf">posh-git&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">Import-Module&lt;/span> &lt;span class="nf">oh-my-posh&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">#&lt;/span> &lt;span class="nf">设置主题&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">Set-Theme&lt;/span> &lt;span class="nf">PowerLine&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>如果你想自定义的话建议先备份后修改。&lt;/p>&lt;/blockquote>
&lt;/li>
&lt;li>
&lt;p>在&lt;code>此电脑-&amp;gt;文档-&amp;gt;PowerShell&lt;/code>文件夹，点击&lt;code>新建文本文档&lt;/code>，文件名为&amp;quot;motd.txt&amp;quot;，写入以下内容：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-txt" data-lang="txt">&lt;span class="line">&lt;span class="cl">PowerShell 7.1.0 (Windows10专业版 x64 20H2)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">* 终端: https://docs.microsoft.com/zh-cn/powershell/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">* 系统: https://support.microsoft.com/zh-cn/windows/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">* 指令: https://docs.microsoft.com/zh-cn/dotnet/api/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">欢迎使用PowerShell Core
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>这里的内容是完全自定义的，算是欢迎消息，即打开 PowerShell 输出的一段话。你可以随便写。&lt;/p>&lt;/blockquote>
&lt;/li>
&lt;/ol>
&lt;h4 id="配置-windows-terminal">配置 Windows Terminal
&lt;/h4>&lt;h5 id="自定义设置">自定义设置
&lt;/h5>&lt;ol>
&lt;li>
&lt;p>打开 Windows Terminal，点击 &lt;code>下箭头-&amp;gt;设置&lt;/code> 或按下 &lt;code>Win+,&lt;/code> 打开设置文件
&lt;img src="https://img.cdn.gaein.cn/website_used/blog/Windows-Terminal-Usage/08.webp"
loading="lazy"
alt="打开的setting.json"
>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>向设置文件写入以下内容：&lt;/p>
&lt;blockquote>
&lt;p>注意，现在打开默认是图形化设置，需要进入图形设置再点击左侧栏目下方的设置图标。&lt;/p>&lt;/blockquote>
&lt;p>首先修改全局设置（即 &lt;code>profiles.defaults&lt;/code> 节点）：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;defaults&amp;#34;&lt;/span>&lt;span class="err">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// 默认设置
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;acrylicOpacity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">0.75&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// 不透明度
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;closeOnExit&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// 退出时关闭
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;colorScheme&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Campbell&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// 配色方案
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;cursorColor&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;#FFFFFF&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// 颜色
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;cursorShape&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;bar&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// bar
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;fontFace&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Cascadia Code PL&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// 字体
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;fontSize&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// 字号
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;historySize&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">9001&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// 历史记录
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;padding&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;0, 0, 0, 0&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// 内部显示位置
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;snapOnInput&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// ?
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;startingDirectory&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;./&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// 打开目录
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;useAcrylic&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span> &lt;span class="c1">// 使用亚克力效果
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="err">,&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>然后添加Python控制台，并将不想看到的自动生成的三个的 &lt;code>hidden&lt;/code> 属性设置为 &lt;code>true&lt;/code>:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Python Console
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;guid&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;{de7c0f31-aa6b-c0f6-44a8-fe162d8f31fc}&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// 随机生成一个guid即可
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;hidden&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Python 3.9&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;icon&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;C:\\Users\\Gaein\\Documents\\WindowsTerminal\\python-logo.png&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// 自定义python图标
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;commandline&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;C:\\Program Files\\Python39\\python.exe&amp;#34;&lt;/span> &lt;span class="c1">// python路径
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="err">,&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>整个配置文件如下：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt"> 10
&lt;/span>&lt;span class="lnt"> 11
&lt;/span>&lt;span class="lnt"> 12
&lt;/span>&lt;span class="lnt"> 13
&lt;/span>&lt;span class="lnt"> 14
&lt;/span>&lt;span class="lnt"> 15
&lt;/span>&lt;span class="lnt"> 16
&lt;/span>&lt;span class="lnt"> 17
&lt;/span>&lt;span class="lnt"> 18
&lt;/span>&lt;span class="lnt"> 19
&lt;/span>&lt;span class="lnt"> 20
&lt;/span>&lt;span class="lnt"> 21
&lt;/span>&lt;span class="lnt"> 22
&lt;/span>&lt;span class="lnt"> 23
&lt;/span>&lt;span class="lnt"> 24
&lt;/span>&lt;span class="lnt"> 25
&lt;/span>&lt;span class="lnt"> 26
&lt;/span>&lt;span class="lnt"> 27
&lt;/span>&lt;span class="lnt"> 28
&lt;/span>&lt;span class="lnt"> 29
&lt;/span>&lt;span class="lnt"> 30
&lt;/span>&lt;span class="lnt"> 31
&lt;/span>&lt;span class="lnt"> 32
&lt;/span>&lt;span class="lnt"> 33
&lt;/span>&lt;span class="lnt"> 34
&lt;/span>&lt;span class="lnt"> 35
&lt;/span>&lt;span class="lnt"> 36
&lt;/span>&lt;span class="lnt"> 37
&lt;/span>&lt;span class="lnt"> 38
&lt;/span>&lt;span class="lnt"> 39
&lt;/span>&lt;span class="lnt"> 40
&lt;/span>&lt;span class="lnt"> 41
&lt;/span>&lt;span class="lnt"> 42
&lt;/span>&lt;span class="lnt"> 43
&lt;/span>&lt;span class="lnt"> 44
&lt;/span>&lt;span class="lnt"> 45
&lt;/span>&lt;span class="lnt"> 46
&lt;/span>&lt;span class="lnt"> 47
&lt;/span>&lt;span class="lnt"> 48
&lt;/span>&lt;span class="lnt"> 49
&lt;/span>&lt;span class="lnt"> 50
&lt;/span>&lt;span class="lnt"> 51
&lt;/span>&lt;span class="lnt"> 52
&lt;/span>&lt;span class="lnt"> 53
&lt;/span>&lt;span class="lnt"> 54
&lt;/span>&lt;span class="lnt"> 55
&lt;/span>&lt;span class="lnt"> 56
&lt;/span>&lt;span class="lnt"> 57
&lt;/span>&lt;span class="lnt"> 58
&lt;/span>&lt;span class="lnt"> 59
&lt;/span>&lt;span class="lnt"> 60
&lt;/span>&lt;span class="lnt"> 61
&lt;/span>&lt;span class="lnt"> 62
&lt;/span>&lt;span class="lnt"> 63
&lt;/span>&lt;span class="lnt"> 64
&lt;/span>&lt;span class="lnt"> 65
&lt;/span>&lt;span class="lnt"> 66
&lt;/span>&lt;span class="lnt"> 67
&lt;/span>&lt;span class="lnt"> 68
&lt;/span>&lt;span class="lnt"> 69
&lt;/span>&lt;span class="lnt"> 70
&lt;/span>&lt;span class="lnt"> 71
&lt;/span>&lt;span class="lnt"> 72
&lt;/span>&lt;span class="lnt"> 73
&lt;/span>&lt;span class="lnt"> 74
&lt;/span>&lt;span class="lnt"> 75
&lt;/span>&lt;span class="lnt"> 76
&lt;/span>&lt;span class="lnt"> 77
&lt;/span>&lt;span class="lnt"> 78
&lt;/span>&lt;span class="lnt"> 79
&lt;/span>&lt;span class="lnt"> 80
&lt;/span>&lt;span class="lnt"> 81
&lt;/span>&lt;span class="lnt"> 82
&lt;/span>&lt;span class="lnt"> 83
&lt;/span>&lt;span class="lnt"> 84
&lt;/span>&lt;span class="lnt"> 85
&lt;/span>&lt;span class="lnt"> 86
&lt;/span>&lt;span class="lnt"> 87
&lt;/span>&lt;span class="lnt"> 88
&lt;/span>&lt;span class="lnt"> 89
&lt;/span>&lt;span class="lnt"> 90
&lt;/span>&lt;span class="lnt"> 91
&lt;/span>&lt;span class="lnt"> 92
&lt;/span>&lt;span class="lnt"> 93
&lt;/span>&lt;span class="lnt"> 94
&lt;/span>&lt;span class="lnt"> 95
&lt;/span>&lt;span class="lnt"> 96
&lt;/span>&lt;span class="lnt"> 97
&lt;/span>&lt;span class="lnt"> 98
&lt;/span>&lt;span class="lnt"> 99
&lt;/span>&lt;span class="lnt">100
&lt;/span>&lt;span class="lnt">101
&lt;/span>&lt;span class="lnt">102
&lt;/span>&lt;span class="lnt">103
&lt;/span>&lt;span class="lnt">104
&lt;/span>&lt;span class="lnt">105
&lt;/span>&lt;span class="lnt">106
&lt;/span>&lt;span class="lnt">107
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 文档: https://aka.ms/terminal-documentation
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 默认设置在点击设置按钮时按住&amp;#34;Alt&amp;#34;键
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// by Gaein nidb, https://www.gaein.cn
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// rev 1.0.0
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// 全局设置
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;$schema&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;https://aka.ms/terminal-profiles-schema&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;defaultProfile&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;{574e775e-4f2a-5b96-ac1e-a2962a402336}&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// 默认打开的
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;copyOnSelect&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// 自动复制选中的内容到剪切板
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;copyFormatting&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// 复制格式，将选中文字的颜色、背景等也复制
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;initialCols&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">120&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// 初始化大小（栏）
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;initialRows&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">38&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// 初始化大小（行）
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// 打开的选项的设置，文档: https://aka.ms/terminal-profile-settings
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;profiles&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;defaults&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// 默认设置
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;acrylicOpacity&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">0.75&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// 不透明度
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;closeOnExit&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// 退出时关闭
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;colorScheme&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Campbell&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// 配色方案
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;cursorColor&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;#FFFFFF&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// 颜色
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;cursorShape&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;bar&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// bar
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;fontFace&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Cascadia Code PL&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// 字体
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;fontSize&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// 字号
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;historySize&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">9001&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// 历史记录
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;padding&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;0, 0, 0, 0&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// 内部显示位置
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;snapOnInput&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// ?
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;startingDirectory&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;./&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// 打开目录
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;useAcrylic&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span> &lt;span class="c1">// 使用亚克力效果
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;list&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// PowerShell Core
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;guid&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;{574e775e-4f2a-5b96-ac1e-a2962a402336}&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;hidden&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;PowerShell Core&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;commandline&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;pwsh.exe -NoLogo&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Python Console
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;guid&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;{de7c0f31-aa6b-c0f6-44a8-fe162d8f31fc}&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// 随机生成一个guid即可
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;hidden&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Python 3.9&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;icon&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;C:\\Users\\Gaein\\Documents\\WindowsTerminal\\python-logo.png&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// 自定义python图标
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;commandline&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;C:\\Program Files\\Python39\\python.exe&amp;#34;&lt;/span> &lt;span class="c1">// python路径
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// 自带的旧版PowerShell
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;guid&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;{61c54bbd-c2c6-5271-96e7-009a87ff44bf}&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;hidden&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;PowerShell(旧版)&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;commandline&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;powershell.exe -NoLogo&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// 命令提示符
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;guid&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;{0caa0dad-35be-5f56-a8ff-afceeeaa6101}&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;hidden&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;命令提示符(cmd)&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;commandline&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;cmd.exe&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// 默认生成的Azure Cloud Shell
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;guid&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;{b453ae62-4e3d-5e58-b989-0a998ec441b8}&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;hidden&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Azure Cloud Shell&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;source&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Windows.Terminal.Azure&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Add custom color schemes to this array.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// To learn more about color schemes, visit https://aka.ms/terminal-color-schemes
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;schemes&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Add custom actions and keybindings to this array.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// To unbind a key combination from your defaults.json, set the command to &amp;#34;unbound&amp;#34;.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// To learn more about actions and keybindings, visit https://aka.ms/terminal-keybindings
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;actions&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Copy and paste are bound to Ctrl+Shift+C and Ctrl+Shift+V in your defaults.json.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// These two lines additionally bind them to Ctrl+C and Ctrl+V.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// To learn more about selection, visit https://aka.ms/terminal-selection
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;command&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nt">&amp;#34;action&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;copy&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nt">&amp;#34;singleLine&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">false&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;keys&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ctrl+c&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span> &lt;span class="nt">&amp;#34;command&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;paste&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nt">&amp;#34;keys&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ctrl+v&amp;#34;&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Press Ctrl+Shift+F to open the search box
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nt">&amp;#34;command&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;find&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nt">&amp;#34;keys&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ctrl+shift+f&amp;#34;&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Press Alt+Shift+D to open a new pane.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// - &amp;#34;split&amp;#34;: &amp;#34;auto&amp;#34; makes this pane open in the direction that provides the most surface area.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// - &amp;#34;splitMode&amp;#34;: &amp;#34;duplicate&amp;#34; makes the new pane use the focused pane&amp;#39;s profile.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// To learn more about panes, visit https://aka.ms/terminal-panes
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;command&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;action&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;splitPane&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;split&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;auto&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;splitMode&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;duplicate&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;keys&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;alt+shift+d&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>可以按需进行修改&lt;/p>&lt;/blockquote>
&lt;/li>
&lt;/ol>
&lt;h5 id="添加到右键菜单">添加到右键菜单
&lt;/h5>&lt;blockquote>
&lt;p>注意：这部分可能不再需要。貌似现在的wt装完之后自动添加了右键菜单。&lt;/p>&lt;/blockquote>
&lt;ol>
&lt;li>&lt;code>Win + R&lt;/code> 输入 &lt;code>regedit&lt;/code> 打开注册表编辑器；&lt;/li>
&lt;li>转到&lt;code>计算机\HKEY_CLASSES_ROOT\Directory\Background\shell&lt;/code>；&lt;/li>
&lt;li>新建项&lt;code>Terminal&lt;/code>，将默认值修改为&lt;code>在此处打开 Windows Terminal&lt;/code>；
&lt;img src="https://img.cdn.gaein.cn/website_used/blog/Windows-Terminal-Usage/09.webp"
loading="lazy"
alt="修改值"
>&lt;/li>
&lt;li>&lt;a class="link" href="https://static.cdn.gaein.cn/website_used/files/WT-Icon/wt.ico" target="_blank" rel="noopener"
>下载图标(从Gaein.cn)&lt;/a>，保存到某个路径；&lt;/li>
&lt;li>在&lt;code>Terminal&lt;/code>里新建字符串，名字为&lt;code>icon&lt;/code>，右键-&amp;gt;修改，值为图标的路径；
&lt;img src="https://img.cdn.gaein.cn/website_used/blog/Windows-Terminal-Usage/10.webp"
loading="lazy"
alt="设置图标"
>
&lt;img src="https://img.cdn.gaein.cn/website_used/blog/Windows-Terminal-Usage/11.webp"
loading="lazy"
alt="设置图标路径"
>&lt;/li>
&lt;li>在&lt;code>Terminal&lt;/code>新建项，名字为&lt;code>command&lt;/code>，值为&lt;code>wt.exe&lt;/code>
&lt;img src="https://img.cdn.gaein.cn/website_used/blog/Windows-Terminal-Usage/12.webp"
loading="lazy"
alt="命令"
>&lt;/li>
&lt;/ol>
&lt;h2 id="参考">参考
&lt;/h2>&lt;ol>
&lt;li>&lt;a class="link" href="https://docs.microsoft.com/zh-cn/windows/terminal/" target="_blank" rel="noopener"
>Microsoft Docs:Windows Terminal&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://docs.microsoft.com/zh-cn/powershell/scripting/install/migrating-from-windows-powershell-51-to-powershell-7?view=powershell-7.1" target="_blank" rel="noopener"
>Microsoft Docs:从 PowerShell5 迁移到 7&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://zhuanlan.zhihu.com/p/144612614" target="_blank" rel="noopener"
>知乎 @tnnmigga:Windows Terminal 终端入门&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.jianshu.com/p/95c5194857b7" target="_blank" rel="noopener"
>简书 @码农小胖哥:Windows 命令行终端 PowerShell 美化计划&lt;/a>&lt;/li>
&lt;/ol></description></item><item><title>VSCode 一键配置 C/C++环境程序</title><link>https://blog.gaein.cn/passages/vscode-c-installer/</link><pubDate>Fri, 18 Sep 2020 15:17:26 +0800</pubDate><guid>https://blog.gaein.cn/passages/vscode-c-installer/</guid><description>&lt;p>VSCode 是轻量级的、跨平台的编辑器。相对于使用 DEVC++来说，使用 VSCode 开发 C/C++有很大的优势（至少它好看）。鉴于环境配置对新人不是很友好，我就写了一个一键安装程序。&lt;/p>
&lt;!-- more -->
&lt;h2 id="发行说明">发行说明
&lt;/h2>&lt;h4 id="平台">平台
&lt;/h4>&lt;p>适用于 Windows7/8/8.1/10 64 位操作系统&lt;/p>
&lt;blockquote>
&lt;p>注意：其中 Windows7 版本需要安装.NET Framework 4.5.2 及以上版本&lt;/p>&lt;/blockquote>
&lt;h4 id="开发">开发
&lt;/h4>&lt;p>使用 CSharp .NET Core 编写（其中 Windows7 版本使用.NET Framework）&lt;/p>
&lt;h4 id="版本">版本
&lt;/h4>&lt;p>当前版本为 1.12.0&lt;/p>
&lt;h4 id="安装">安装
&lt;/h4>&lt;ol>
&lt;li>Visual Studio Code 1.48.2&lt;/li>
&lt;li>LLVM v10.0.0&lt;/li>
&lt;li>mingw64-w64 8.1.0-release-posix-seh-rt_v6-rev0&lt;/li>
&lt;/ol>
&lt;h4 id="插件">插件
&lt;/h4>&lt;ol>
&lt;li>vscode-icons-team.vscode-icons&lt;/li>
&lt;li>ms-vscode.cpptools&lt;/li>
&lt;li>MS-CEINTL.vscode-language-pack-zh-hans&lt;/li>
&lt;li>formulahendry.code-runner&lt;/li>
&lt;li>HookyQR.beautify&lt;/li>
&lt;li>zhuangtongfa.Material-theme&lt;/li>
&lt;li>christian-kohler.path-intellisense&lt;/li>
&lt;li>VisualStudioExptTeam.vscodeintellicode&lt;/li>
&lt;li>esbenp.prettier-vscode&lt;/li>
&lt;/ol>
&lt;h4 id="下载">下载
&lt;/h4>&lt;p>&lt;a class="link" href="https://gitee.com/nidb/vscode--c/releases" target="_blank" rel="noopener"
>码云-gitee.com&lt;/a>&lt;/p>
&lt;h4 id="项目">项目
&lt;/h4>&lt;p>项目地址：&lt;a class="link" href="https://gitee.com/nidb/vscode--c" target="_blank" rel="noopener"
>码云-gitee.com&lt;/a>&lt;/p>
&lt;blockquote>
&lt;p>VSCode 配置文件来自 中北大学·AI+移动互联创新实验室&lt;/p>&lt;/blockquote>
&lt;h2 id="使用方法">使用方法
&lt;/h2>&lt;ol>
&lt;li>下载文件&lt;/li>
&lt;li>双击运行后点击“开始”&lt;/li>
&lt;li>等待进度条满后进入文件夹“VSCode+C”&lt;/li>
&lt;li>双击文件“VSCode+C Installer.exe”，系统弹窗提示后点击是&lt;/li>
&lt;li>点击“开始安装”&lt;/li>
&lt;li>安装完成后会自动打开 VSCode，关闭安装程序。&lt;/li>
&lt;li>在 C:\VSCode+C\UserCode\C-Project 文件夹下创建 c 语言源代码文件；在 C:\VSCode+C\UserCode\C++-Project 文件夹下创建 c++源代码文件&lt;/li>
&lt;li>在文件夹内右键&amp;gt;在 code 中打开，或者在 VSCode 中点击文件&amp;gt;打开文件夹，然后浏览选择 C:\VSCode+C\UserCode\C-Project 或 C++的&lt;/li>
&lt;/ol>
&lt;h2 id="开发过程">开发过程
&lt;/h2>&lt;p>本来想打包 msi，后来无论怎么尝试都不行，干脆就使用 CSharp写一个安装器&lt;/p>
&lt;h4 id="安装实现">安装实现
&lt;/h4>&lt;h6 id="vscode">VSCode
&lt;/h6>&lt;p>从官网下载安装包
VSCode 使用 Inno Setup，通过 Process 类中的方法调用其安装程序并传递参数，查阅 Inno Setup 的文档后，我使用的安装的命令行参数如下&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">/SP- ## 不显示“是否安装”
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/VERYSILENT ## 超级静默安装（不弹窗）
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/NOCANCEL ## 禁止取消安装
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/NORESTART ## 不重启电脑
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/CLOSEAPPLICATIONS ## 关闭影响安装的程序
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/ALLUSERS ## 为所有用户安装
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/DIR=&amp;#34;C:\VSCode+C\Microsoft Visual Studio Code\&amp;#34; ##设置安装目录
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/MERGETASKS=&amp;#34;!runcode,desktopicon,quicklaunchicon,addcontextmenufiles,addcontextmenufolders,associatewithfiles,addtopath&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">## 安装的任务：
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">## !runcode 安装完成后不启动vscode
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">## desktopicon 桌面图标
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">## quicklaunchicon 开始菜单
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">## addcontextmenufiles 文件右键菜单
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">## addcontextmenufolders 文件夹右键菜单
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">## associatewithfiles 关联文件
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">## addtopath 添加到环境变量
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>附：&lt;a class="link" href="https://jrsoftware.org/ishelp/topic_setupcmdline.htm" target="_blank" rel="noopener"
>Inno Setup 官方文档&lt;/a>&lt;/p>
&lt;p>MERGETASKS 的内容我一直不知道该怎么写（毕竟这个是编译 Inno Setup 前 VSCode 的开发者写的），但是我突然想到 VSCode 是开源的！于是我查阅了&lt;a class="link" href="https://github.com/microsoft/vscode" target="_blank" rel="noopener"
>GitHub 仓库&lt;/a>。在分支 &lt;a class="link" href="https://github.com/microsoft/vscode/tree/joao/innosetup6" target="_blank" rel="noopener"
>joao/innosetup6&lt;/a>中的 &lt;a class="link" href="https://github.com/microsoft/vscode/blob/joao/innosetup6/build/win32/code.iss" target="_blank" rel="noopener"
>build/win32/code.iss&lt;/a>中找到了如下内容：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">[Tasks]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Name: &amp;#34;desktopicon&amp;#34;; Description: &amp;#34;{cm:CreateDesktopIcon}&amp;#34;; GroupDescription: &amp;#34;{cm:AdditionalIcons}&amp;#34;; Flags: unchecked
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Name: &amp;#34;quicklaunchicon&amp;#34;; Description: &amp;#34;{cm:CreateQuickLaunchIcon}&amp;#34;; GroupDescription: &amp;#34;{cm:AdditionalIcons}&amp;#34;; Flags: unchecked; OnlyBelowVersion: 0,6.1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Name: &amp;#34;addcontextmenufiles&amp;#34;; Description: &amp;#34;{cm:AddContextMenuFiles,{##NameShort}}&amp;#34;; GroupDescription: &amp;#34;{cm:Other}&amp;#34;; Flags: unchecked
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Name: &amp;#34;addcontextmenufolders&amp;#34;; Description: &amp;#34;{cm:AddContextMenuFolders,{##NameShort}}&amp;#34;; GroupDescription: &amp;#34;{cm:Other}&amp;#34;; Flags: unchecked
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Name: &amp;#34;associatewithfiles&amp;#34;; Description: &amp;#34;{cm:AssociateWithFiles,{##NameShort}}&amp;#34;; GroupDescription: &amp;#34;{cm:Other}&amp;#34;; Flags: unchecked
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Name: &amp;#34;addtopath&amp;#34;; Description: &amp;#34;{cm:AddToPath}&amp;#34;; GroupDescription: &amp;#34;{cm:Other}&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Name: &amp;#34;runcode&amp;#34;; Description: &amp;#34;{cm:RunAfter,{##NameShort}}&amp;#34;; GroupDescription: &amp;#34;{cm:Other}&amp;#34;; Check: WizardSilent
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>顺利解决问题&lt;/p>
&lt;h6 id="llvm">LLVM
&lt;/h6>&lt;p>从&lt;a class="link" href="https://releases.llvm.org/" target="_blank" rel="noopener"
>官网&lt;/a>下载安装包，访问速度可能有些慢，可以考虑使用代理
LLVM 使用 NSIS（问了中北的学姐），通过 Process 类中的方法调用其安装程序并传递参数，查阅 NSIS 的文档后，我使用的安装的命令行参数如下&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">/S ## 静默安装
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/D=&amp;#34;C:\VSCode+C\LLVM&amp;#34; ## 设置安装目录
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>附：&lt;a class="link" href="https://nsis.sourceforge.io/Docs/Chapter3.html##installerusage" target="_blank" rel="noopener"
>NSIS 官方文档&lt;/a>&lt;/p>
&lt;h6 id="mingw64-w64">mingw64-w64
&lt;/h6>&lt;p>mingw64-w64 下载下来是一个压缩包，因此我们直接去解压文件就好
从&lt;a class="link" href="https://sourceforge.net/projects/mingw-w64/files/" target="_blank" rel="noopener"
>sourceforge&lt;/a>下载 mingw64-w64
&lt;img src="https://s1.ax1x.com/2020/09/18/whTJL8.png"
loading="lazy"
alt="sourceforge文件列表"
>
在这么多文件里面下载 Toolchains targetting Win64&amp;gt;Personal Builds&amp;gt;mingw-builds&amp;gt;8.1.0&amp;gt;threads-posix&amp;gt;seh&amp;gt;x86_64-8.1.0-release-posix-seh-rt_v6-rev0.7z
（找对版本可真不容易）&lt;/p>
&lt;h6 id="代码文件夹和vscode-配置">代码文件夹和.vscode 配置
&lt;/h6>&lt;p>我使用的是中北大学 AI+移动互联创新实验室的配置文件
&lt;a class="link" href="https://github.com/android-nuc/VSCode-C-Environment" target="_blank" rel="noopener"
>GitHub 项目地址&lt;/a>
下载、解压、提取需要的即可&lt;/p>
&lt;h6 id="安装方案">安装方案
&lt;/h6>&lt;p>我的方案是：VSCode、LLVM 使用安装包安装，mingw64-w64 和代码文件夹配置等直接打包成 data.zip 然后解压缩。VSCode 插件调用命令行使用
`C:\VSCode+C\Microsoft Visual Studio Code\bin\code.cmd &amp;ndash;install-extension 插件
由于国内网络原因某些插件安装的很慢或者根本无法安装&lt;/p></description></item><item><title>Office 2019安装（附激活）</title><link>https://blog.gaein.cn/passages/how-to-install-office19/</link><pubDate>Fri, 28 Feb 2020 09:29:34 +0800</pubDate><guid>https://blog.gaein.cn/passages/how-to-install-office19/</guid><description>&lt;p>闲来无事安装了Office2019，激活软件是从 HWIDGen 作者的 Github 上面拉下来的（顺手汉化了一下），KMS激活，180天&lt;/p>
&lt;blockquote>
&lt;p>2021.5.27 作者 GitHub 已经没了&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>其实网上貌似有很多类似的，但是大多数都不怎么“讲究”，再者下载的激活软件很多不能用或者有病毒，虽然我不能保证我提供的激活100%安全，但是我还是选择相信HWIDGen的开发者。&lt;/p>&lt;/blockquote>
&lt;h2 id="下载office2019">下载Office2019
&lt;/h2>&lt;p>&lt;strong>注意，office2019仅支持Windows10系统，如果想要知道您的操作系统是什么，可以在属性中查看，或者直接看左下角开始菜单的标志，如果是“开始”，则为Windows XP系统，原型的Windows标志是Windows7系统，四方格标志是Windows10系统（不一定准确，但是大多没问题！）&lt;/strong>&lt;/p>
&lt;p>如果您使用的是Windows7操作系统可以安装Office2016，不可以安装Office2019&lt;/p>
&lt;p>如果您使用的是WindowsXP操作系统那么放弃吧，转WPS吧&lt;/p>
&lt;p>下面是Office2019和Office2016的下载链接，来自 &lt;a class="link" href="https://msdn.itellyou.cn" target="_blank" rel="noopener"
>MSDN，我告诉你&lt;/a>&lt;/p>
&lt;ul>
&lt;li>Office2019 :
&lt;code>ed2k://|file|cn_office_professional_plus_2019_x86_x64_dvd_5e5be643.iso|3775004672|1E4FFA5240F21F60DC027F73F1C62FF4|/ &lt;/code>&lt;/li>
&lt;li>Office2016 :
&lt;code>ed2k://|file|cn_office_professional_plus_2016_x86_x64_dvd_6969182.iso|2588266496|27EEA4FE4BB13CD0ECCDFC24167F9E01|/ &lt;/code>&lt;/li>
&lt;/ul>
&lt;p>可以使用迅雷等工具进行下载，复制“ed2k:&amp;hellip;..|/”并粘贴即可&lt;/p>
&lt;h2 id="解压安装">解压安装
&lt;/h2>&lt;p>&lt;img src="https://s2.ax1x.com/2020/02/28/3BG4oD.png"
loading="lazy"
alt="3BG4oD.png"
>&lt;/p>
&lt;p>我将文件下载到了D:\安装包&lt;/p>
&lt;p>右键下载来的文件（它通常在D:\迅雷下载里面 根据你设置的路径而定（在复制完链接下载之前有个对话框，里面有选择的）如果找不到可以打开迅雷，通常在已完成&amp;gt;你下载的文件边上有个文件夹的标志，点击它可以打开文件夹）&lt;/p>
&lt;p>右键之后选择“解压到&amp;hellip;”，如果没有这个选项可以选择“解压到当前文件夹”，如果都没有可以去安装压缩软件（推荐Bandizip，详见 &lt;a class="link" href="https://blog.gaein.cn/passages/Open-File-in-right-way/" target="_blank" rel="noopener"
>这一篇博客&lt;/a>），或者右键&amp;gt;挂载（仅限于Windows10操作系统）&lt;/p>
&lt;p>打开解压出来的文件夹（或者挂载的盘，他们通常是最后一个盘符）&lt;/p>
&lt;p>&lt;img src="https://s2.ax1x.com/2020/02/28/3BGhdO.png"
loading="lazy"
alt="3BGhdO.png"
>&lt;/p>
&lt;p>如果你希望自动安装，可以双击setup.exe（Office2019是默认安装64位，2016默认安装32位；希望手动安装可以进入office目录，安装相应版本，推荐64位）&lt;/p>
&lt;p>&lt;strong>如果你听不懂小括号里面是啥就直接双击即可&lt;/strong>&lt;/p>
&lt;p>&lt;strong>如果你准备安装Office2016，而且觉得自己电脑配置还行的话就进入Office目录，双击“setup-64.exe”（或者类似的名字）如果无法安装再双击“setup.exe”&lt;/strong>&lt;/p>
&lt;p>&lt;img src="https://s2.ax1x.com/2020/02/28/3BGfeK.png"
loading="lazy"
alt="3BGfeK.png"
>&lt;/p>
&lt;p>&lt;img src="https://s2.ax1x.com/2020/02/28/3BGIFe.png"
loading="lazy"
alt="3BGIFe.png"
>&lt;/p>
&lt;p>安装过程是全自动，你可以坐下来歇会，大概5分钟左右（Microsoft surface pro3），好一点的电脑应该会更快，&lt;del>不过也不排除我电脑有微软本家加成&lt;/del>（如果你听不懂我在说什么等着就好）&lt;/p>
&lt;p>&lt;img src="https://s2.ax1x.com/2020/02/28/3BGTWd.png"
loading="lazy"
alt="3BGTWd.png"
>&lt;/p>
&lt;p>如图即为安装成功&lt;/p>
&lt;h2 id="更改安全设置">更改安全设置
&lt;/h2>&lt;p>如果您希望白嫖这款软件，后面的步骤是必须的。如果您希望支持微软可以去官方购买Office2019激活密钥或者淘宝购买&lt;/p>
&lt;p>在开始下面的操作之前可以新建一个文件夹，比如G:\工具。稍后我们的激活操作将在这里面进行，请确保您能够找到此文件夹&lt;/p>
&lt;ol>
&lt;li>
&lt;p>打开安全中心（如果您使用其它软件可以尝试直接进行下一步操作，再杀毒软件报告含有病毒时选择允许就可以了）
&lt;strong>激活软件由于涉及到敏感操作，会被判定为病毒&lt;/strong>&lt;/p>
&lt;p>&lt;img src="https://s2.ax1x.com/2020/02/28/3BGHSA.png"
loading="lazy"
alt="3BGHSA.png"
>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>点击管理设置
&lt;img src="https://s2.ax1x.com/2020/02/28/3BGbQI.png"
loading="lazy"
alt="3BGbQI.png"
>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>添加或删除排除项
&lt;img src="https://s2.ax1x.com/2020/02/28/3BGqyt.png"
loading="lazy"
alt="3BGqyt.png"
>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>添加排除项&amp;gt;文件夹。选择我们刚才新建的文件夹G:\工具&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h2 id="激活office">激活Office
&lt;/h2>&lt;p>首先下载激活软件&lt;/p>
&lt;p>该软件和知名的系统数字权利激活软件HWIDGen为同一人开发，我选择相信软件开发者&lt;/p>
&lt;p>注意，在网上找到的激活软件仍然有含有病毒的可能性。我提供的软件是从作者的Github（源码仓库）获取的&lt;/p>
&lt;p>暂时不可用 &lt;del>点击此处下载: &lt;a class="link" href="https://static.cdn.gaein.cn/files/tools/ActivateTools/" target="_blank" rel="noopener"
>https://static.cdn.gaein.cn/files/tools/ActivateTools/&lt;/a>激活office.zip&lt;/del>&lt;/p>
&lt;p>（我已经将它翻译为了中文，当然还是混有部分英文的。不过以下的图片是全英文的）&lt;/p>
&lt;ol>
&lt;li>
&lt;p>解压到文件夹
&lt;img src="https://s2.ax1x.com/2020/02/28/3BGLOP.png"
loading="lazy"
alt="3BGLOP.png"
>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>进入“v36”
&lt;img src="https://s2.ax1x.com/2020/02/28/3BGjw8.png"
loading="lazy"
alt="3BGjw8.png"
>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>右键，以管理员身份运行
&lt;img src="https://s2.ax1x.com/2020/02/28/3BGzFg.png"
loading="lazy"
alt="3BGzFg.png"
>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>出现此窗口，然后稍等片刻（大概有一两分钟吧）
&lt;img src="https://s2.ax1x.com/2020/02/28/3BJSYQ.png"
loading="lazy"
alt="3BJSYQ.png"
>&lt;/p>
&lt;p>程序会自动检查未激活的Windows系统和Office并激活他们。此时如果杀毒软件弹出任何禁止的东西，请选择允许运行&lt;/p>
&lt;p>&lt;img src="https://s2.ax1x.com/2020/02/28/3BJpWj.png"
loading="lazy"
alt="3BJpWj.png"
>&lt;/p>
&lt;p>出现到此即为成功（汉化之后的会有激活成功字样）&lt;/p>
&lt;p>&lt;img src="https://s2.ax1x.com/2020/02/28/3BriZj.png"
loading="lazy"
alt="3BriZj.png"
>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>（附汉化版图片）
5. 打开Office（word excel都行），弹窗，点击接受
&lt;img src="https://s2.ax1x.com/2020/02/28/3BJCSs.png"
loading="lazy"
alt="3BJCSs.png"
>
6. 至此Office激活完成!
&lt;img src="https://s2.ax1x.com/2020/02/28/3BJPln.png"
loading="lazy"
alt="3BJPln.png"
>&lt;/p>
&lt;p>&lt;strong>安装的是初始版本，可以点击更新进行更新&lt;/strong>
&lt;img src="https://s2.ax1x.com/2020/02/28/3BJiyq.png"
loading="lazy"
alt="3BJiyq.png"
>&lt;/p></description></item><item><title>认识与入门MarkDown</title><link>https://blog.gaein.cn/passages/hello-markdown/</link><pubDate>Sun, 28 Apr 2019 00:23:38 +0800</pubDate><guid>https://blog.gaein.cn/passages/hello-markdown/</guid><description>&lt;p>&lt;a class="link" href="https://zh.wikipedia.org/wiki/Markdown" target="_blank" rel="noopener"
>Markdown&lt;/a>是一种轻量级的 &lt;strong>「标记语言」&lt;/strong>，它的优点很多，目前也被越来越多的写作爱好&amp;gt;者，撰稿者广泛使用。看到这里请不要被 &lt;strong>「标记」&lt;/strong>、 &lt;strong>「语言」&lt;/strong> 所迷惑，Markdown 的语法十分简单。常用的标记符号也不超过十个，这种相对于更为复杂的 HTML 标记语言来说，Markdown 可谓是十分
轻量的，学习成本也不需要太多，且一旦熟悉这种语法规则，会有一劳永逸的效果。&lt;/p>
&lt;p>根据作者&lt;/p>
&lt;blockquote>
&lt;p>转载请注明原作者&lt;/p>&lt;/blockquote>
&lt;p>转载&lt;/p>
&lt;p>作者：Te_Lee&lt;/p>
&lt;p>原文：https://www.jianshu.com/p/1e402922ee32&lt;/p>
&lt;p>如有侵权请联系删除&lt;/p>
&lt;p>&lt;strong>转载请注明原作者，如果你觉得这篇文章对你有帮助或启发，也可以来请我&lt;a class="link" href="https://link.jianshu.com?t=http://ww2.sinaimg.cn/large/6aee7dbbjw1eiixgkex2ij21kw0t7wn5.jpg" target="_blank" rel="noopener"
>喝咖啡&lt;/a>&lt;/strong>&lt;/p>
&lt;h2 id="导语">导语
&lt;/h2>&lt;blockquote>
&lt;p>&lt;a class="link" href="https://zh.wikipedia.org/wiki/Markdown" target="_blank" rel="noopener"
>Markdown&lt;/a>是一种轻量级的 &lt;strong>「标记语言」&lt;/strong>，它的优点很多，目前也被越来越多的写作爱好&amp;gt;者，撰稿者广泛使用。看到这里请不要被 &lt;strong>「标记」&lt;/strong>、 &lt;strong>「语言」&lt;/strong> 所迷惑，Markdown 的语法十分简单。常用的标记符号也不超过十个，这种相对于更为复杂的 HTML 标记语言来说，Markdown 可谓是十分
轻量的，学习成本也不需要太多，且一旦熟悉这种语法规则，会有一劳永逸的效果。&lt;/p>&lt;/blockquote>
&lt;p>&lt;img src="https://ww3.sinaimg.cn/large/6aee7dbbjw1eqft66xcg3j21kw12mdub.jpg" data-original-src="http://ww3.sinaimg.cn/large/6aee7dbbjw1eqft66xcg3j21kw12mdub.jpg" alt="[Ulysses for Mac](http://www.ulyssesapp.com)" style="cursor: zoom-in;">&lt;div class="image-caption">&lt;a class="link" href="http://www.ulyssesapp.com" target="_blank" rel="noopener"
>Ulysses for Mac&lt;/a>&lt;/div>&lt;/p>
&lt;/div>
&lt;h2>一，认识 Markdown&lt;/h2>
&lt;p>在刚才的导语里提到，Markdown 是一种用来写作的轻量级&lt;strong>「标记语言」&lt;/strong>，它用简洁的语法代替排版，而不像一般我们用的字处理软件 &lt;em>Word&lt;/em> 或 &lt;em>Pages&lt;/em> 有大量的排版、字体设置。它使我们专心于码字，用「标记」语法，来代替常见的排版格式。例如此文从内容到格式，甚至插图，键盘就可以通通搞定了。目前来看，支持 Markdown 语法的编辑器有很多，包括很多网站（例如&lt;a href="https://www.jianshu.com" target="_blank">简书&lt;/a>）也支持了 Markdown 的文字录入。Markdown 从写作到完成，导出格式随心所欲，你可以导出 HTML 格式的文件用来网站发布，也可以十分方便的导出 PDF 格式，这种格式写出的简历更能得到 HR 的好感。甚至可以利用 &lt;a href="https://link.jianshu.com?t=http://www.getcloudapp.com" target="_blank" rel="nofollow">CloudApp&lt;/a> 这种云服务工具直接上传至网页用来分享你的文章，全球最大的轻博客平台 &lt;a href="https://link.jianshu.com?t=http://te1ee.tumblr.com" target="_blank" rel="nofollow">Tumblr&lt;/a>，也支持 Mou 这类 Markdown 工具的直接上传。&lt;/p>
&lt;h3>Markdown 官方文档&lt;/h3>
&lt;blockquote>
&lt;p>这里可以看到官方的 Markdown 语法规则文档，当然，&lt;strong>后文我也会用自己的方式阐述这些语法的具体用法&lt;/strong>。&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>&lt;a href="https://link.jianshu.com?t=http://daringfireball.net/projects/markdown/syntax" target="_blank" rel="nofollow">&lt;em>创始人 John Gruber 的 Markdown 语法说明&lt;/em>&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://link.jianshu.com?t=http://wowubuntu.com/markdown/##list" target="_blank" rel="nofollow">&lt;em>Markdown 中文版语法说明&lt;/em>&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3>使用 Markdown 的优点&lt;/h3>
&lt;ul>
&lt;li>专注你的文字内容而不是排版样式，安心写作。&lt;/li>
&lt;li>轻松的导出 HTML、PDF 和本身的 .md 文件。&lt;/li>
&lt;li>纯文本内容，兼容所有的文本编辑器与字处理软件。&lt;/li>
&lt;li>随时修改你的文章版本，不必像字处理软件生成若干文件版本导致混乱。&lt;/li>
&lt;li>可读、直观、学习成本低。&lt;/li>
&lt;/ul>
&lt;h3>使用 Markdown 的误区&lt;/h3>
&lt;blockquote>
&lt;p>*We believe that writing is about content, about what you want to say – not about fancy formatting. *&lt;/p>
&lt;/blockquote>
&lt;p>我们坚信写作写的是内容，所思所想，而不是花样格式。&lt;br>
— &lt;em>Ulysses for Mac&lt;/em>&lt;/p>
&lt;ul>
&lt;li>Markdown 旨在简洁、高效，也由于 Markdown 的易读易写，人们用不同的编程语言实现了多个版本的解析器和生成器，这就导致了目前不同的 Markdown 工具集成了不同的功能（基础功能大致相同），例如流程图与时序图，复杂表格与复杂公式的呈现，虽然功能的丰富并没有什么本质的缺点，但终归有些背离初衷，何况在编写的过程中很费神，不如使用专业的工具撰写来的更有效率，所以如果你需实现复杂功能，专业的图形界面工具会更加方便。&lt;strong>当然，如果你对折腾这些不同客户端对 Markdown 的定制所带来高阶功能感到愉悦的话，那也是无可厚非的。&lt;/strong>
&lt;/li>
&lt;/ul>
&lt;div class="image-package">
&lt;img src="https://ww2.sinaimg.cn/large/6aee7dbbgw1eq320claw3j21kw0kjdpc.jpg" data-original-src="http://ww2.sinaimg.cn/large/6aee7dbbgw1eq320claw3j21kw0kjdpc.jpg" alt="[flowchart.js on Github（使用 Markdown 绘制流程图）](https://github.com/adrai/flowchart.js)" style="cursor: zoom-in;">&lt;div class="image-caption">[flowchart.js on Github（使用 Markdown 绘制流程图）](https://github.com/adrai/flowchart.js)&lt;/div>
&lt;/div>
&lt;h3>我该用什么工具？&lt;/h3>
&lt;div class="image-package">
&lt;img src="https://ww2.sinaimg.cn/large/6aee7dbbgw1esvkj19bqmj20e80e874z.jpg" data-original-src="http://ww2.sinaimg.cn/large/6aee7dbbgw1esvkj19bqmj20e80e874z.jpg" alt="Mou for Mac" style="cursor: zoom-in;">&lt;div class="image-caption">Mou for Mac&lt;/div>
&lt;/div>
&lt;ul>
&lt;li>在 Mac OS X 上，我强烈建议你用 &lt;a href="https://link.jianshu.com?t=http://mouapp.com" target="_blank" rel="nofollow">Mou&lt;/a> 这款免费且十分好用的 Markdown 编辑器，它支持&lt;strong>实时预览&lt;/strong>，既左边是你编辑 Markdown 语言，右边会实时的生成预览效果。不仅如此，Mou 还有一些有趣的偏好设置（&lt;em>Preference&lt;/em>），例如主题（&lt;em>Themes&lt;/em>）与样式（&lt;em>CSS&lt;/em>），它们可以配置出定制化的文本编辑效果与导出效果，如果你对自带的主题与样式不满意还可以到 &lt;a href="https://link.jianshu.com?t=https://github.com/search?utf8=%E2%9C%93&amp;amp;q=Mou" target="_blank" rel="nofollow">GitHub&lt;/a> 上搜索其它爱好者为 Mou 编写的更多主题样式，导入的方式可以在偏好设置的 Themes 或 CSS 选项中 选择 reload。&lt;/li>
&lt;/ul>
&lt;div class="image-package">
&lt;img src="https://ww1.sinaimg.cn/large/6aee7dbbgw1effcq2gx92j210j0ustj7.jpg" data-original-src="http://ww1.sinaimg.cn/large/6aee7dbbgw1effcq2gx92j210j0ustj7.jpg" alt="Mou 的编写与预览窗口" style="cursor: zoom-in;">&lt;div class="image-caption">Mou 的编写与预览窗口&lt;/div>
&lt;/div>
&lt;p>如果你从事文字工作，我强烈建议你购买 &lt;em>&lt;a href="https://link.jianshu.com?t=http://www.ulyssesapp.com" target="_blank" rel="nofollow">Ulysses for Mac&lt;/a>&lt;/em>，这款软件入围了苹果 Mac App Store 的 &lt;em>The Best of 2013&lt;/em>。它支持更多的写作格式、多文档的支持。Mou，iA writer 这些软件都是基于单文档的管理方式，而 Ulysses 支持 Folder、Filter 的管理，一个 Folder 里面可以创建多个 Sheet，Sheet 之间也可以进行 Combine 处理。&lt;/p>
&lt;div class="image-package">
&lt;img src="https://ww1.sinaimg.cn/large/6aee7dbbjw1eqgrj7suqoj217a0aiq4u.jpg" data-original-src="http://ww1.sinaimg.cn/large/6aee7dbbjw1eqgrj7suqoj217a0aiq4u.jpg" alt="Mac 上一些 Markdown 编辑器" style="cursor: zoom-in;">&lt;div class="image-caption">Mac 上一些 Markdown 编辑器&lt;/div>
&lt;/div>
&lt;ul>
&lt;li>&lt;p>由于笔者很少接触 Windows，Windows 下的 Markdown 没有过多涉猎，经朋友介绍，有两款还算不错，一款叫做 &lt;a href="https://link.jianshu.com?t=http://www.markdownpad.com" target="_blank" rel="nofollow">MarkdownPad&lt;/a> ，另一款叫做 &lt;a href="https://link.jianshu.com?t=http://code52.org/DownmarkerWPF/" target="_blank" rel="nofollow">MarkPad&lt;/a>。&lt;/p>&lt;/li>
&lt;li>&lt;p>iOS 端很多 app 早已经支持了 Markdown 录入，例如 Drafts，Day One，iA writer 等，另外 Ulysses for iPad 现在已经上架，可以说是 iOS 平台最好的编辑器了。&lt;/p>&lt;/li>
&lt;li>&lt;p>在 Web端，我强烈推荐&lt;a href="https://www.jianshu.com" target="_blank">简书&lt;/a>这款产品，上面有无数热爱文字的人在不停的创造，分享。在 Web 端使用 Markdown 没有比简书更舒服的地方了，同样支持左右两栏的实时预览，字体优雅，简洁。&lt;/p>&lt;/li>
&lt;/ul>
&lt;div class="image-package">
&lt;img src="https://ww2.sinaimg.cn/large/6aee7dbbgw1effdkfijo1j21220nigth.jpg" data-original-src="http://ww2.sinaimg.cn/large/6aee7dbbgw1effdkfijo1j21220nigth.jpg" alt="简书的编辑预览模式" style="cursor: zoom-in;">&lt;div class="image-caption">简书的编辑预览模式&lt;/div>
&lt;/div>
&lt;h2>二，Markdown 语法的简要规则&lt;/h2>
&lt;h3>标题&lt;/h3>
&lt;div class="image-package">
&lt;img src="https://ww1.sinaimg.cn/large/6aee7dbbgw1effeaclhiyj20eh09cwez.jpg" data-original-src="http://ww1.sinaimg.cn/large/6aee7dbbgw1effeaclhiyj20eh09cwez.jpg" alt="标题" style="cursor: zoom-in;">&lt;div class="image-caption">标题&lt;/div>
&lt;/div>
&lt;p>标题是每篇文章都需要也是最常用的格式，在 Markdown 中，如果一段文字被定义为标题，只要在这段文字前加 &lt;code>##&lt;/code> 号即可。&lt;/p>
&lt;p>&lt;code>## 一级标题&lt;/code>&lt;/p>
&lt;p>&lt;code>#### 二级标题&lt;/code>&lt;/p>
&lt;p>&lt;code>###### 三级标题&lt;/code>&lt;/p>
&lt;p>以此类推，总共六级标题，建议在井号后加一个空格，这是最标准的 Markdown 语法。&lt;/p>
&lt;h3>列表&lt;/h3>
&lt;p>熟悉 HTML 的同学肯定知道有序列表与无序列表的区别，在 Markdown 下，列表的显示只需要在文字前加上 &lt;code>-&lt;/code> 或 &lt;code>*&lt;/code> 即可变为无序列表，有序列表则直接在文字前加&lt;code>1.&lt;/code> &lt;code>2.&lt;/code> &lt;code>3.&lt;/code> 符号要和文字之间加上一个字符的空格。&lt;/p>
&lt;div class="image-package">
&lt;img src="https://ww4.sinaimg.cn/large/6aee7dbbgw1effew5aftij20d80bz3yw.jpg" data-original-src="http://ww4.sinaimg.cn/large/6aee7dbbgw1effew5aftij20d80bz3yw.jpg" alt="无序列表与有序列表" style="cursor: zoom-in;">&lt;div class="image-caption">无序列表与有序列表&lt;/div>
&lt;/div>
&lt;h3>引用&lt;/h3>
&lt;p>如果你需要引用一小段别处的句子，那么就要用引用的格式。&lt;/p>
&lt;blockquote>
&lt;p>例如这样&lt;/p>
&lt;/blockquote>
&lt;p>只需要在文本前加入 &lt;code>&amp;gt;&lt;/code> 这种尖括号（大于号）即可&lt;/p>
&lt;div class="image-package">
&lt;img src="https://ww3.sinaimg.cn/large/6aee7dbbgw1effezhonxlj20e009c3yu.jpg" data-original-src="http://ww3.sinaimg.cn/large/6aee7dbbgw1effezhonxlj20e009c3yu.jpg" alt="引用" style="cursor: zoom-in;">&lt;div class="image-caption">引用&lt;/div>
&lt;/div>
&lt;h3>图片与链接&lt;/h3>
&lt;p>插入链接与插入图片的语法很像，区别在一个 &lt;code>!&lt;/code>号&lt;/p>
&lt;p>图片为：&lt;code>![]()&lt;/code>&lt;/p>
&lt;p>链接为：&lt;code>[]()&lt;/code>&lt;/p>
&lt;p>插入图片的地址需要图床，这里推荐&lt;a href="https://link.jianshu.com?t=http://weibotuchuang.sinaapp.com" target="_blank" rel="nofollow">围脖图床修复计划&lt;/a> 与 &lt;a href="https://link.jianshu.com?t=http://www.getcloudapp.com" target="_blank" rel="nofollow">CloudApp&lt;/a> 的服务，生成URL地址即可。&lt;/p>
&lt;div class="image-package">
&lt;img src="https://ww2.sinaimg.cn/large/6aee7dbbgw1efffa67voyj20ix0ctq3n.jpg" data-original-src="http://ww2.sinaimg.cn/large/6aee7dbbgw1efffa67voyj20ix0ctq3n.jpg" alt="URL 与图片" style="cursor: zoom-in;">&lt;div class="image-caption">URL 与图片&lt;/div>
&lt;/div>
&lt;h3>粗体与斜体&lt;/h3>
&lt;p>Markdown 的粗体和斜体也非常简单，用两个 &lt;code>*&lt;/code> 包含一段文本就是粗体的语法，用一个 &lt;code>*&lt;/code> 包含一段文本就是斜体的语法。&lt;/p>
&lt;p>例如：&lt;strong>这里是粗体&lt;/strong> &lt;em>这里是斜体&lt;/em>&lt;/p>
&lt;h3>表格&lt;/h3>
&lt;p>表格是我觉得 Markdown 比较累人的地方，例子如下：&lt;/p>
&lt;pre class="hljs ruby">&lt;code class="ruby">&lt;span class="hljs-params">| Tables |&lt;/span> Are &lt;span class="hljs-params">| Cool |&lt;/span>
&lt;span class="hljs-params">| ------------- |&lt;/span>&lt;span class="hljs-symbol">:-------------&lt;/span>&lt;span class="hljs-symbol">:|&lt;/span> -----&lt;span class="hljs-symbol">:|&lt;/span>
&lt;span class="hljs-params">| col 3 is |&lt;/span> right-aligned &lt;span class="hljs-params">| $1600 |&lt;/span>
&lt;span class="hljs-params">| col 2 is |&lt;/span> centered &lt;span class="hljs-params">| $12 |&lt;/span>
&lt;span class="hljs-params">| zebra stripes |&lt;/span> are neat &lt;span class="hljs-params">| $1 |&lt;/span>
&lt;/code>&lt;/pre>
&lt;p>这种语法生成的表格如下：&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Tables&lt;/th>
&lt;th style="text-align:center">Are&lt;/th>
&lt;th style="text-align:right">Cool&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>col 3 is&lt;/td>
&lt;td style="text-align:center">right-aligned&lt;/td>
&lt;td style="text-align:right">$1600&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>col 2 is&lt;/td>
&lt;td style="text-align:center">centered&lt;/td>
&lt;td style="text-align:right">$12&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>zebra stripes&lt;/td>
&lt;td style="text-align:center">are neat&lt;/td>
&lt;td style="text-align:right">$1&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3>代码框&lt;/h3>
&lt;p>如果你是个程序猿，需要在文章里优雅的引用代码框，在 Markdown下实现也非常简单，只需要用两个 ` 把中间的代码包裹起来。图例：&lt;/p>
&lt;div class="image-package">
&lt;img src="https://ww3.sinaimg.cn/large/6aee7dbbgw1effg1lsa97j20lt0a8dgs.jpg" data-original-src="http://ww3.sinaimg.cn/large/6aee7dbbgw1effg1lsa97j20lt0a8dgs.jpg" style="cursor: zoom-in;">&lt;div class="image-caption">&lt;/div>
&lt;/div>
&lt;p>使用 &lt;code>tab&lt;/code> 键即可缩进。&lt;/p>
&lt;h3>分割线&lt;/h3>
&lt;p>分割线的语法只需要三个 &lt;code>*&lt;/code> 号，例如：&lt;/p>
&lt;hr>
&lt;blockquote>
&lt;p>到这里，Markdown 的基本语法在日常的使用中基本就没什么大问题了，只要多加练习，配合好用的工具，写起东西来肯定会行云流水。更多的语法规则，其实 Mou 的 Help 文档栗子很好，当你第一次使用 Mou 时，就会显示该文档。可以用来对用的查找和学习。&lt;/p>
&lt;/blockquote>
&lt;div class="image-package">
&lt;img src="https://ww3.sinaimg.cn/large/6aee7dbbgw1effgmnpgqlj210j0us44j.jpg" data-original-src="http://ww3.sinaimg.cn/large/6aee7dbbgw1effgmnpgqlj210j0us44j.jpg" style="cursor: zoom-in;">&lt;div class="image-caption">&lt;/div>
&lt;/div>
&lt;h2>
&lt;strong>三，相关推荐&lt;/strong>:&lt;/h2>
&lt;h3>&lt;strong>工具&lt;/strong>&lt;/h3>
&lt;p>&lt;em>图床工具用来上传图片获取 URL 地址&lt;/em>&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://link.jianshu.com?t=http://droplr.com" target="_blank" rel="nofollow">Droplr&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://link.jianshu.com?t=http://www.getcloudapp.com" target="_blank" rel="nofollow">Cloudapp&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://link.jianshu.com?t=https://itunes.apple.com/cn/app/yi-xiang/id672522335?mt=12&amp;amp;uo=4" target="_blank" rel="nofollow">ezShare for Mac&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://link.jianshu.com?t=http://weibotuchuang.sinaapp.com" target="_blank" rel="nofollow">围脖图床修复计划&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>&lt;em>在线好用的Markdown工具，为印象笔记而生&lt;/em>&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://link.jianshu.com?t=http://maxiang.info" target="_blank" rel="nofollow">马克飞象，专为印象笔记打造的Markdown编辑器，非常推荐&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3>
&lt;strong>相关文章阅读&lt;/strong>：&lt;/h3>
&lt;ul>
&lt;li>&lt;p>&lt;a href="https://www.jianshu.com/p/qqgjln" target="_blank">为什么作家应该用 Markdown 保存自己的文稿&lt;/a>&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;a href="https://link.jianshu.com?t=http://www.yangzhiping.com/tech/r-markdown-knitr.html" target="_blank" rel="nofollow">Markdown写作浅谈&lt;/a>&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;a href="https://link.jianshu.com?t=http://www.appinn.com/markdown-tools/" target="_blank" rel="nofollow">Markdown 工具补完&lt;/a>&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;a href="https://www.jianshu.com/p/63HYZ6" target="_blank">Drafts + Scriptogr.am + Dropbox 打造移动端 Markdown 风格博客&lt;/a>&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;a href="https://link.jianshu.com?t=http://www.ituring.com.cn/article/23" target="_blank" rel="nofollow">图灵社区，怎样使用Markdown&lt;/a>&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;a href="https://link.jianshu.com?t=http://news.cnblogs.com/n/139649/" target="_blank" rel="nofollow">为什么我们要学习Markdown的三个理由&lt;/a>&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;a href="https://link.jianshu.com?t=http://ibuick.me/?p=4093" target="_blank" rel="nofollow">Markdown 语法写作入门指南 by ibuick&lt;/a>&lt;/p>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;p>&lt;strong>本文首发在&lt;a href="https://link.jianshu.com?t=http://sspai.com/25137" target="_blank" rel="nofollow">少数派&lt;/a>转载请注明原作者，如果你觉得这篇文章对你有帮助或启发，也可以来请我&lt;a href="https://link.jianshu.com?t=http://ww2.sinaimg.cn/large/6aee7dbbjw1eiixgkex2ij21kw0t7wn5.jpg" target="_blank" rel="nofollow">喝咖啡&lt;/a>。&lt;br>
利益相关：本篇文章所有涉及到的软件均为笔者日常所用工具，无任何广告费用。&lt;/strong>&lt;/p>
&lt;pre>&lt;code> &amp;lt;/div&amp;gt;
&amp;lt;/div&amp;gt;
&lt;/code>&lt;/pre></description></item><item><title>优雅的从 VMWare 官网上下载完整版 Workstation Pro</title><link>https://blog.gaein.cn/passages/download-workstation-pro/</link><pubDate>Wed, 23 Jan 2019 14:46:35 +0800</pubDate><guid>https://blog.gaein.cn/passages/download-workstation-pro/</guid><description>&lt;p>VMWare是世界闻名的虚拟机软件，那么如何在官网下载正版呢？&lt;/p>
&lt;h2 id="打开vmware官网">打开VMWare官网
&lt;/h2>&lt;p>&lt;a class="link" href="https://www.vmware.com/cn.html" target="_blank" rel="noopener"
>VMware中国&lt;/a>&lt;/p>
&lt;p>&lt;img src="https://img.cdn.gaein.cn/website_used/blog/Download-Workstation-Pro/01.webp"
loading="lazy"
alt="首页"
>&lt;/p>
&lt;h2 id="转到下载页面">转到下载页面
&lt;/h2>&lt;p>点击左侧下载&amp;gt;产品下载&amp;gt;Workstation Pro&lt;/p>
&lt;p>&lt;strong>！注意，是“产品下载”中的Workstation Pro而不是“免费产品试用版和演示”中的&lt;/strong>&lt;/p>
&lt;p>&lt;img src="https://img.cdn.gaein.cn/website_used/blog/Download-Workstation-Pro/02.webp"
loading="lazy"
alt="下载"
>&lt;/p>
&lt;h2 id="跳转到软件下载">跳转到软件下载
&lt;/h2>&lt;p>跳转后在页面中选择自己需要的，跳转至下载&lt;/p>
&lt;p>&lt;img src="https://img.cdn.gaein.cn/website_used/blog/Download-Workstation-Pro/03.webp"
loading="lazy"
alt="下载详细页面"
>&lt;/p>
&lt;h2 id="点击了解更多信息">点击“了解更多信息”
&lt;/h2>&lt;p>&lt;img src="https://img.cdn.gaein.cn/website_used/blog/Download-Workstation-Pro/04.webp"
loading="lazy"
alt="更多信息"
>&lt;/p>
&lt;h2 id="记下内部版本号">记下“内部版本号”
&lt;/h2>&lt;p>&lt;img src="https://img.cdn.gaein.cn/website_used/blog/Download-Workstation-Pro/05.webp"
loading="lazy"
alt="版本号"
>&lt;/p>
&lt;h2 id="拼接链接">拼接链接：
&lt;/h2>&lt;p>&lt;code>&amp;quot;https://download3.vmware.com/software/wkst/file/VMware-workstation-full-&amp;quot;+版本（15.0.2）+&amp;quot;-&amp;quot;+内部版本号（10952284）+&amp;quot;.exe&amp;quot;&lt;/code>&lt;/p>
&lt;p>比如我这个15.0.2,10952284的下载链接就是
&lt;a class="link" href="https://download3.vmware.com/software/wkst/file/VMware-workstation-full-15.0.2-10952284.exe" target="_blank" rel="noopener"
>https://download3.vmware.com/software/wkst/file/VMware-workstation-full-15.0.2-10952284.exe&lt;/a>&lt;/p>
&lt;h2 id="脚本">脚本
&lt;/h2>&lt;blockquote>
&lt;p>2021.5.15 补充&lt;/p>&lt;/blockquote>
&lt;p>前阵子无聊扒了一下VMWare的API，瞎写了一个屎山脚本，用于实验室内网资源站更新VMWare方便一些：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;span class="lnt">63
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># import requests&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">httpx&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">requests&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">json&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">vmware_public_api_url&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;https://my.vmware.com/channel/public/api/v1.0&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">get_latest_version&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="nb">str&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">vmware_all_url&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">vmware_public_api_url&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s2">&amp;#34;/products/getProductsAtoZ?locale=en_US&amp;amp;isPrivate=false&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sa">f&lt;/span>&lt;span class="s2">&amp;#34;[INFO]向&lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">vmware_all_url&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">发送请求，请稍后...&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">all_file_resp&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">requests&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">vmware_all_url&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">latest_rev&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">all_file_resp&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">status_code&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">200&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ret_json&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">json&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">loads&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">all_file_resp&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">text&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">products_list&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">ret_json&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;productCategoryList&amp;#34;&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="s2">&amp;#34;productList&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">item&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">products_list&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">item&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s2">&amp;#34;VMware Workstation Pro&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">latest_rev&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">item&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;actions&amp;#34;&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="s2">&amp;#34;target&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">split&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/&amp;#39;&lt;/span>&lt;span class="p">)[&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">latest_rev&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">get_info_by_version&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">version&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">str&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="nb">dict&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">vmware_list_url&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">vmware_public_api_url&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="sa">f&lt;/span>&lt;span class="s2">&amp;#34;/products/getRelatedDLGList?category=desktop_end_user_computing&amp;amp;product=vmware_workstation_pro&amp;amp;version=&lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">version&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;amp;dlgType=PRODUCT_BINARY&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sa">f&lt;/span>&lt;span class="s2">&amp;#34;[INFO]向&lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">vmware_list_url&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">发送请求，请稍后...&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">resp&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">requests&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">vmware_list_url&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">resp&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">status_code&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">200&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">json&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">loads&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">resp&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">text&lt;/span>&lt;span class="p">)[&lt;/span>&lt;span class="s2">&amp;#34;dlgEditionsLists&amp;#34;&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="s2">&amp;#34;dlgList&amp;#34;&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sa">f&lt;/span>&lt;span class="s2">&amp;#34;ERROR:&lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">resp&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">status_code&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2"> at url &lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">vmware_list_url&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">get_file_by_id&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">product_id&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">str&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">dl_group&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">str&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="nb">str&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">vmware_file_url&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">vmware_public_api_url&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="sa">f&lt;/span>&lt;span class="s2">&amp;#34;/dlg/details?locale=en_US&amp;amp;downloadGroup=&lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">dl_group&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;amp;productId=&lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">product_id&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sa">f&lt;/span>&lt;span class="s2">&amp;#34;[INFO]向&lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">vmware_file_url&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">发送请求，请稍后...&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">resp&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">requests&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">vmware_file_url&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">resp&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">status_code&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">200&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">json&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">loads&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">resp&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">text&lt;/span>&lt;span class="p">)[&lt;/span>&lt;span class="s2">&amp;#34;downloadFiles&amp;#34;&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="vm">__name__&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s2">&amp;#34;__main__&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">latest_version&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">get_latest_version&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">latest_version&lt;/span> &lt;span class="ow">is&lt;/span> &lt;span class="ow">not&lt;/span> &lt;span class="kc">None&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sa">f&lt;/span>&lt;span class="s2">&amp;#34;[INFO]获取到最新版本&lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">latest_version&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">vmware_info&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">get_info_by_version&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">latest_version&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">vmware_info&lt;/span> &lt;span class="ow">is&lt;/span> &lt;span class="ow">not&lt;/span> &lt;span class="kc">None&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sa">f&lt;/span>&lt;span class="s2">&amp;#34;[INFO]获取到：ID &lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">vmware_info&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;productId&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">,名称 &lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">vmware_info&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;name&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">,发布时间 &lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">vmware_info&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;releaseDate&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">file_info&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">get_file_by_id&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">vmware_info&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;productId&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">vmware_info&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;code&amp;#39;&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sa">f&lt;/span>&lt;span class="s2">&amp;#34;[INFO]获取到：文件名 &lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">file_info&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;fileName&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">,MD5&lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">file_info&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;md5checksum&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">,文件大小&lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">file_info&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;fileSize&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">download_url&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sa">f&lt;/span>&lt;span class="s2">&amp;#34;https://download3.vmware.com/software/wkst/file/&lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">file_info&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;fileName&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sa">f&lt;/span>&lt;span class="s2">&amp;#34;[INFO]拼接下载链接：&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">download_url&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>屎山（但是能跑）&lt;/p></description></item><item><title>Linux挂载新硬盘</title><link>https://blog.gaein.cn/passages/linux-add-newdisk/</link><pubDate>Sat, 20 Oct 2018 12:07:15 +0800</pubDate><guid>https://blog.gaein.cn/passages/linux-add-newdisk/</guid><description>&lt;p>最近给Ubuntu添加了一块硬盘，下面是具体的步骤&lt;/p>
&lt;!-- more -->
&lt;p>
买的云服务器IDC给了一块10GB的数据盘，因为系统盘不大，就要把数据盘用上了
&lt;/p>
&lt;p>
但是Linux下数据盘并没有挂载，Linux的磁盘系统也不同于windows，需要挂载使用
&lt;/p>
&lt;h1 label="标题居左" style="font-size: 32px; font-weight: bold; border-bottom: 2px solid rgb(204, 204, 204); padding: 0px 4px 0px 0px; text-align: left; margin: 0px 0px 10px;">
1、新建分区并格式化&lt;br/>
&lt;/h1>
&lt;p>
使用
&lt;/p>
&lt;pre class="fy-prettyprint linenums">fdisk -l&lt;/pre>
&lt;p>
&lt;img src="https://s1.ax1x.com/2018/10/20/i04JfK.png" alt="" width="516" height="328"/>
&lt;/p>
&lt;p>
查看当前的硬盘，可以看到有sda、sdb两块盘，第一块作为系统盘已经分区，sdb就是我们要挂载的数据盘
&lt;/p>
&lt;p>
首先进行分区
&lt;/p>
&lt;pre class="fy-prettyprint linenums">fdisk /dev/sdb&lt;/pre>
&lt;p>
&lt;img src="https://s1.ax1x.com/2018/10/20/i048Fx.png" alt="" width="491" height="162"/>
&lt;/p>
&lt;p>
进入磁盘sdb（如果你是磁盘sdc就相应的替换为sdc）相当于选中这个硬盘的意思
&lt;/p>
&lt;p>
首先输入m看一下帮助
&lt;/p>
&lt;p>
&lt;img src="https://s1.ax1x.com/2018/10/20/i041T1.png" alt="" width="567" height="571"/>
&lt;/p>
&lt;p>
比较简单，应该很容易看懂，暂时把几个常用的写上了意思
&lt;/p>
&lt;pre class="fy-prettyprint linenums">Command (m for help): p ##显示磁盘信息
Disk /dev/sdb: 10 GiB, 10737418240 bytes, 20971520 sectors
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 4096 bytes
I/O size (minimum/optimal): 4096 bytes / 4096 bytes
Disklabel type: dos
Disk identifier: 0xb5106536
&lt;p>Command (m for help): n ##新建分区
Partition type
p primary (0 primary, 0 extended, 4 free)
e extended (container for logical partitions)
Select (default p): p ##新建逻辑分区
Partition number (1-4, default 1):
First sector (2048-20971519, default 2048):
Last sector, +sectors or +size{K,M,G,T,P} (2048-20971519, default 20971519):
##直接留空，我只想把所有的空间分一个分区
Created a new partition 1 of type &amp;amp;##39;Linux&amp;amp;##39; and of size 10 GiB.&lt;/p>
&lt;p>Command (m for help): w ##保存退出
The partition table has been altered.
Calling ioctl() to re-read partition table.
Syncing disks.&lt;/pre>&lt;/p>
&lt;p>
&lt;img src="https://s1.ax1x.com/2018/10/20/i04lwR.png" alt="" width="560" height="382"/>
&lt;/p>
&lt;p>
再次使用fdisk -l已经可以看到sdb有一个分区sdb1了
&lt;/p>
&lt;p>
&lt;img src="https://s1.ax1x.com/2018/10/20/i04tSO.png" alt="" width="511" height="397"/>
&lt;/p>
&lt;p>
同Windows一样，磁盘需要格式化后才能使用
&lt;/p>
&lt;p>
用
&lt;/p>
&lt;pre class="fy-prettyprint linenums">mkntfs /dev/sdb1&lt;/pre>
&lt;p>
来格式化为NTFS格式，其他格式可以自行百度
&lt;/p>
&lt;p>
&lt;img src="https://s1.ax1x.com/2018/10/20/i04GY6.png" alt="" width="391" height="57"/>
&lt;/p>
&lt;p>
出现
&lt;/p>
&lt;pre class="fy-prettyprint linenums">Cluster size has been automatically set to 4096 bytes.
Initializing device with zeroes: 100% - Done.
Creating NTFS volume structures.
mkntfs completed successfully. Have a nice day.&lt;/pre>
&lt;p>
即为格式化完成
&lt;/p>
&lt;h1 label="标题居中" style="font-size: 32px; font-weight: bold; border-bottom: 2px solid rgb(204, 204, 204); padding: 0px 4px 0px 0px; text-align: center; margin: 0px 0px 20px;">
2、挂载磁盘
&lt;/h1>
&lt;div>
&lt;p>
&lt;br/>
&lt;/p>
&lt;p>
临时挂载可以使用mount命令，但是重启后需要重新挂载
&lt;/p>
&lt;p>
用法为
&lt;/p>
&lt;pre class="fy-prettyprint linenums">mount 分区 目录&lt;/pre>
&lt;p>
比如我需要使用
&lt;/p>
&lt;pre class="fy-prettyprint linenums">mount /dev/sdb1 /data&lt;/pre>
&lt;p>
挂载
&lt;/p>
&lt;p>
&lt;img src="https://s1.ax1x.com/2018/10/20/i0IkGV.png" alt="" width="542" height="83"/>
&lt;/p>
&lt;p>
（当然前提是存在目录/data）
&lt;/p>
&lt;p>
编辑
&lt;/p>
&lt;pre class="prettyprint" name="code">/etc/fstab&lt;/pre>
&lt;p>
来永久挂载磁盘
&lt;/p>
&lt;pre class="fy-prettyprint linenums">## /etc/fstab: static file system information.
##
## Use &amp;##39;blkid&amp;##39; to print the universally unique identifier for a
## device; this may be used with UUID= as a more robust way to name devices
## that works even if disks are added and removed. See fstab(5).
##
## &amp;lt;file system&amp;gt; &amp;lt;mount point&amp;gt; &amp;lt;type&amp;gt; &amp;lt;options&amp;gt; &amp;lt;dump&amp;gt; &amp;lt;pass&amp;gt;
## / was on /dev/sda1 during installation
UUID=22e202f3-ae04-4995-b214-de7f192f33c4 / ext4 errors=remount-ro 0 1
## swap was on /dev/sda5 during installation
UUID=472580b3-a87b-4fe2-8bda-59b59d087ec6 none swap sw 0 0
/dev/fd0 /media/floppy0 auto rw,user,noauto,exec,utf8 0 0
/dev/sdb1 /data ntfs defaults 0 0
磁盘 挂载目录 磁盘格式&lt;/pre>
&lt;/div>
&lt;p>
需要注意的是，中间的空不需要打空格，用TAB制表符更方便&lt;br/>
&lt;/p>
&lt;pre class="fy-prettyprint linenums">root@rootadmin:/data## mkdir blog
root@rootadmin:/data## dir
blog
root@rootadmin:/data## reboot
Connection closing...Socket close.
&lt;p>Connection closed by foreign host.&lt;/p>
&lt;p>Disconnected from remote host(GAEIN.CN) at 12:21:20.&lt;/p>
&lt;p>Type `help&amp;amp;##39; to learn how to use Xshell prompt.
[C:~]$&lt;/p>
&lt;p>Connecting to &lt;em>.&lt;/em>.&lt;em>.&lt;/em>:22&amp;hellip;&lt;/p>
&lt;p>Connection established.
To escape to local shell, press &amp;amp;##39;Ctrl+Alt+]&amp;amp;##39;.&lt;/p>
&lt;p>Welcome to Ubuntu 18.04.1 LTS (GNU/Linux 4.15.0-38-generic x86_64)&lt;/p>
&lt;ul>
&lt;li>Documentation: &lt;a class="link" href="https://help.ubuntu.com" target="_blank" rel="noopener"
>https://help.ubuntu.com&lt;/a>&lt;/li>
&lt;li>Management: &lt;a class="link" href="https://landscape.canonical.com" target="_blank" rel="noopener"
>https://landscape.canonical.com&lt;/a>&lt;/li>
&lt;li>Support: &lt;a class="link" href="https://ubuntu.com/advantage" target="_blank" rel="noopener"
>https://ubuntu.com/advantage&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>System information as of Sat Oct 20 12:21:29 CST 2018&lt;/p>
&lt;p>System load: 0.49 Processes: 89
Usage of /: 24.9% of 12.67GB Users logged in: 0
Memory usage: 7% IP address for eth0: &lt;em>.&lt;/em>.&lt;em>.&lt;/em>
Swap usage: 0%&lt;/p>
&lt;ul>
&lt;li>Canonical Livepatch is available for installation.
&lt;ul>
&lt;li>Reduce system reboots and improve kernel security. Activate at:
&lt;a class="link" href="https://ubuntu.com/livepatch" target="_blank" rel="noopener"
>https://ubuntu.com/livepatch&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>0 个可升级软件包。
0 个安全更新。&lt;/p>
&lt;p>Failed to connect to &lt;a class="link" href="https://changelogs.ubuntu.com/meta-release-lts" target="_blank" rel="noopener"
>https://changelogs.ubuntu.com/meta-release-lts&lt;/a>. Check your Internet connection or proxy settings&lt;/p>
&lt;p>Last login: Sat Oct 20 11:26:33 2018 from &lt;em>.&lt;/em>.&lt;em>.&lt;/em>
rootadmin@rootadmin:~$ cd /data
rootadmin@rootadmin:/data$ dir
blog
rootadmin@rootadmin:/data$&lt;/pre>&lt;/p>
&lt;p>
重启了一下，挂载确实成功了&lt;br/>
&lt;/p></description></item></channel></rss>